<!DOCTYPE html>
<html>

  <head>
	<meta charset='utf-8'>
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<meta name="description" content="Graphics2D : JavaScript canvas library">

	<link rel="stylesheet" type="text/css" media="screen" href="../stylesheets/stylesheet.css">

    <script>
      if(localStorage['lang'] != 'Ru')
        location.href = 'index.html';
    </script>
	<title>Context : Graphics2D</title>
  </head>

  <body>

	<!-- HEADER -->
	<div id="header_wrap" class="outer">
		<header class="inner">
		  <a id="forkme_banner" href="https://github.com/keyten/Graphics2D">View on GitHub</a>

		  <h1 id="project_title">Graphics2D</h1>
		  <h2 id="project_tagline">JavaScript canvas library</span></h2>

			<section id="downloads">
			  <a class="zip_download_link" href="https://github.com/keyten/Graphics2D/zipball/master">Download this project as a .zip file</a>
			  <a class="tar_download_link" href="https://github.com/keyten/Graphics2D/tarball/master">Download this project as a tar.gz file</a>
			</section>
		</header>
	</div>

	<!-- MAIN CONTENT -->
	<div id="main_content_wrap" class="outer">
	  <section id="main_content" class="inner">
<p style="float:right;font-size:14pt;font-weight:bold;cursor:pointer"><span onclick="localStorage['lang'] = 'En'; location.href = 'index.html'">En</span> / <span style="color:#0af">Ru</span></p>

	  <h2>Context</h2>
	  <p>Сначала нужно получить контекст Graphics2D:</p>
	  <pre><code>&lt;canvas id="mycanvas"&gt;&lt;/canvas&gt;
&lt;script&gt;
  var ctx = Graphics2D.id('mycanvas');
  var ctx = Graphics2D.query('canvas', 0); // первый &lt;canvas&gt; на странице
  var ctx = Graphics2D.query( document.getElementById('mycanvas') );
&lt;/script&gt;</code></pre></p>

		<h3>Методы</h3>
		<p>Все методы возвращают сам объект, если не требуется иного: такое использование позволяет строить цепочки вызовов.</p>
<pre><code>ctx.rect(10, 10, 200, 200)
	.x(10)
	.fill('red')
	.animate('stroke', '2px blue');</code></pre>
<br/>
		<h4>update</h4>
		<p>Обновляет холст. Требуется, если вы хотите изменять внутренние свойства объектов вручную (напр. не <code>rect.x(10)</code>, а <code>rect._x = 10</code>). Параметров нет.</p>

		<h4>getObjectInPoint</h4>
		<pre><code>var obj = ctx.getObjectInPoint(10, 10);</code></pre>
		<p>Возвращает объект в точке <code>(x; y)</code>. Если таких несколько - возвращает самый верхний. Не учитывает скрытые методом <code>hide</code> объекты.</p>

		<h4>on</h4>
		<pre><code>ctx.on('click', function(e){
  e.targetObject; // объект холста, на котором клик
  e.contextX;
  e.contextY; // координаты мыши на холсте
});</code></pre>
		<p>Ставит обработчик события на холст. Расширяет объект <code>event</code> (в примере - переменная <code>e</code>) 3 свойствами.</p>

		<h4>off</h4>
		<pre><code>ctx.on('click', anyfunc);
ctx.off('click', anyfunc);
ctx.off('click');</code></pre>
		<p>Убирает определённный обработчик события, либо все обработчики определённого события</p>

		<h4>fire</h4>
		<pre><code>ctx.on('click', function(e){
  alert(e.text);
});
ctx.fire('click', { text:'Wow!' });</code></pre>
		<p>Запускает все обработчики определённого события, 2 параметр - передаваемый объект <code>event</code>, опционально.</p>

		<h3>Алиасы</h3>
		<pre><code>ctx.click(callback); // = ctx.on('click', callback);
ctx.click(); // = ctx.fire('click');</code></pre>
		<p>Есть алиасы для разных событий: <code>click</code>, <code>dblclick</code>, <code>mousedown</code>, <code>mouseup</code>, <code>mousemove</code>, <code>mouseover</code>, <code>mouseout</code>, <code>mousewheel</code>, <code>focus</code>, <code>blur</code>.

		<h3>Объекты</h3>
		<pre><code>ctx.rect(10, 10, 200, 200, 'black');</code></pre>
		<p>Различные объекты также создаются с помощью методов контекста, однако эта тема более подробно будет рассмотрена в самих объектах.</p>
		<p>Пока же вот эти методы: <code>rect</code>, <code>circle</code>, <code>path</code>, <code>image</code>, <code>text</code>, <code>textblock</code>, <code>gradient</code>, <code>pattern</code>.</p>

	  </section>
	</div>

	<!-- FOOTER  -->
	<div id="footer_wrap" class="outer">
	  <footer class="inner">
		<p class="copyright">Graphics2D maintained by <a href="https://github.com/keyten">keyten</a></p>
		<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
	  </footer>
	</div>

	

  </body>
</html>

<!DOCTYPE html>
<html>

  <head>
	<meta charset='utf-8'>
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<meta name="description" content="Graphics2D : JavaScript canvas library">

	<link rel="stylesheet" type="text/css" media="screen" href="../stylesheets/stylesheet.css">

    <script>
      if(localStorage['lang'] != 'Ru')
 //       location.href = 'http://keyten.github.io/Graphics2D/docs/path.html';
    </script>
	<title>Path : Graphics2D</title>
  </head>

  <body>

	<!-- HEADER -->
	<div id="header_wrap" class="outer">
		<header class="inner">
		  <a id="forkme_banner" href="https://github.com/keyten/Graphics2D">View on GitHub</a>

		  <h1 id="project_title">Graphics2D</h1>
		  <h2 id="project_tagline">JavaScript canvas library</span></h2>

			<section id="downloads">
			  <a class="zip_download_link" href="https://github.com/keyten/Graphics2D/zipball/master">Download this project as a .zip file</a>
			  <a class="tar_download_link" href="https://github.com/keyten/Graphics2D/tarball/master">Download this project as a tar.gz file</a>
			</section>
		</header>
	</div>

	<!-- MAIN CONTENT -->
	<div id="main_content_wrap" class="outer">
	  <section id="main_content" class="inner">
<p style="float:right;font-size:14pt;font-weight:bold;cursor:pointer"><span onclick="localStorage['lang'] = 'En'; location.href = 'http://keyten.github.io/Graphics2D/docs/path.html'">En</span> / <span style="color:#0af">Ru</span></p>

	  <h2>Path</h2>
	  <p>Путь. Параметры: <code>points</code>, <code>x</code>, <code>y</code>.</p>
	  <pre><code>ctx.path('M10,10 L200,200 z', 10, 10, null, '15px blue');

ctx.path({
    points: 'M10,10', // это не совсем svg
    x:200,
    y:200
});


// кроме того, можно передавать точки так:
ctx.path([[10, 10], [100,100], [200,200,200,200]]);
// 1 - moveTo, остальные: 2 параметра - lineTo, 4 - quadratic, 6 - bezier

ctx.path([{f:'moveTo', arg:[10,10]}, {f:'lineTo', x:200, y:200}]);
// можно передать массив аргументов, или же параметры отдельно

ctx.path()
    .moveTo(10,10)
    .lineTo(200,200); // или даже так</code></pre>
		<h3>Методы</h3>
<h4>x / y</h4>
<pre><code>path.x(); // -> 10
path.x(200);</code></pre>
<h4>closed</h4>
<p>Закрыт или открыт путь (также он может быть закрыт внутри переданной closePath, тогда не регулируется).</p>
<pre><code>path.closed(); // -> false
path.closed(true);</code></pre>
<h4>close</h4>
<p>Просто закрывает.</p>
<h4>allPoints</h4>
<p>Возвращает все точки фигуры (например, у bezier - 3 точки), либо - если передана функция - работает как [].map. Может возвратить новые координаты (тогда координаты будут изменены), либо false - тогда ничего не будет.</p>
<pre><code>path.allPoints(); // -> [[0,0], [10,10], ...]
path.allPoints(function(x, y){
  if(x < 0 && y < 0)
    return false; // если точка < [0,0], то ничего не делаем
  return [x + 10, y + 10]; // все остальные точки сдвигаем на 10,10
});</code></pre>
<h4>transformPoints</h4>
<p>Трансформирует путь. Отличие от <code>transform</code> (и <code>rotate</code>, <code>scale</code> и т.д.) в том, что изменяются координаты точек (а в <code>transform</code> происходит постизменение, т.е. изменение координат точек после трансформации там подвержено ей же, а здесь - нет).</p>
<pre><code>var p = ctx.path('M10,10 L200,200');
p.point(0); // moveTo 10 10

p.rotate(90);
p.point(0); // moveTo 10 10
// фигура повернулась, однако (!) координаты всё те же

p.transformPoints('rotate', 90);
p.point(0); // moveTo 200 10</code></pre>
<p>Доступны следующие варианты использования:</p>
<ul>
	<li><code>'translate', x, y</code></li>
	<li><code>'scale', x, y, pivot</code></li>
	<li><code>'scale', size, pivot</code></li>
	<li><code>'rotate', angle, pivot</code></li>
	<li><code>'skew', x, y, pivot</code></li>
	<li><code>'skew', size, pivot</code></li>
	<li><code>m11, m12, m21, m22, dx, dy</code></li>
</ul>
<p><code>pivot</code> - центр трансформации (напр. центр вращения), можно указывать как и в обычных функциях трансформации (<code>top left</code>, <code>[10,10]</code> и т.д.).
<p>В <code>skew</code> и <code>rotate</code> - градусы.</p>
<h3>Функции рисования</h3>
<em>Примечание: немного нарушен стандартный порядок параметров <code>quadratic</code> и <code>bezier</code>. Например, если в обычном canvas - <code>hx, hy, x, y</code>, то здесь <code>x, y, hx, hy</code>.</em>
<ul>
	<li><code>moveTo(x, y)</code></li>
	<li><code>lineTo(x, y)</code></li>
	<li><code>quadraticCurveTo(x, y, hx, hy)</code></li>
	<li><code>bezierCurveTo(x, y, h1x, h1y, h2x, h2y)</code></li>
	<li><code>arcTo(x1, y1, x2, y2, radius, clockwise)</code></li>
	<li><code>arc(x, y, radius, start, end, clockwise)</code></li>
</ul>
<h4>point</h4>
<p>С одним параметром - возвращает точку с указанным индексом (0 - первая, 1 - вторая и т.д.). С двумя - изменяет (можно передать сразу несколько точек).</p>
<pre><code>var p = ctx.path('M10,10 L200,200');

p.point(0); // -> { f:'moveTo', arg:[10,10], x:10, y:10 }
p.point(1); // -> { f:'lineTo', arg:[200,200], x:200, y:200 }

p.point(1, 'L100,100 L100,200'); // меняем одну точку на сразу несколько
p.point(1); // lineTo 100 100
p.point(2); // lineTo 100 200</code></pre>
<h4>points</h4>
<p>Сразу все точки.</p>
<pre><code>p.points(); // -> [{f:'moveTo', ...}, {f:'lineTo', ...}]
p.points('M0,0 L0,100');
p.points([ [10,10], [200,200] ])</code></pre>
<h4>before</h4>
<p>Вставляет новые точки перед точкой с индексом index.</p>
<pre><code>var p = ctx.path('M10,10 L0,0');
p.before(1, 'L0,10');
// M10,10 L0,10 L0,0</code></pre>
<h4>after</h4>
<p>После.</p>
<h4>remove</h4>
<p>Переопределённая унаследованная от Shape функция: если мы передаём индекс точки - удаляет её, ничего не передаём - всё также удаляет всю фигуру.</p>

	  </section>
	</div>

	<!-- FOOTER  -->
	<div id="footer_wrap" class="outer">
	  <footer class="inner">
		<p class="copyright">Graphics2D maintained by <a href="https://github.com/keyten">keyten</a></p>
		<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
	  </footer>
	</div>

	

  </body>
</html>

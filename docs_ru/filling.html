<!DOCTYPE html>
<html>

  <head>
	<meta charset='utf-8'>
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<meta name="description" content="Graphics2D : JavaScript canvas library">

	<link rel="stylesheet" type="text/css" media="screen" href="../stylesheets/stylesheet.css">

    <script>
      if(localStorage['lang'] != 'Ru')
        // location.href = 'http://keyten.github.io/Graphics2D/docs/filling.html';
    </script>
	<title>Gradient, Pattern : Graphics2D</title>
  </head>

  <body>

	<!-- HEADER -->
	<div id="header_wrap" class="outer">
		<header class="inner">
		  <a id="forkme_banner" href="https://github.com/keyten/Graphics2D">View on GitHub</a>

		  <h1 id="project_title">Graphics2D</h1>
		  <h2 id="project_tagline">JavaScript canvas library</span></h2>

			<section id="downloads">
			  <a class="zip_download_link" href="https://github.com/keyten/Graphics2D/zipball/master">Download this project as a .zip file</a>
			  <a class="tar_download_link" href="https://github.com/keyten/Graphics2D/tarball/master">Download this project as a tar.gz file</a>
			</section>
		</header>
	</div>

	<!-- MAIN CONTENT -->
	<div id="main_content_wrap" class="outer">
	  <section id="main_content" class="inner">
<p style="float:right;font-size:14pt;font-weight:bold;cursor:pointer"><span onclick="localStorage['lang'] = 'En'; location.href = 'http://keyten.github.io/Graphics2D/docs/filling.html'">En</span> / <span style="color:#0af">Ru</span></p>

	  <h2>Gradient</h2>
<p>Градиенты бывают линейные (<code>linear</code>) и радиальные (<code>radial</code>).</p>

<p>У линейных есть 2 точки - начало и конец.</p>

<p>У радиальных - эти точки ещё и имеют радиус. Кроме того, можно регулировать другими параметрами - <code>center</code> (центр), <code>hilite</code> (смещение, блик), <code>radius</code> (конечный радиус), <code>startRadius</code> (начальный радиус), <code>destination</code> (вместо радиуса - точка, до которой распространяется градиент).</p>

<div class="highlight highlight-js"><pre><span class="kd">var</span> <span class="nx">g</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">gradient</span><span class="p">(</span><span class="s1">'linear'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'green'</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">],</span> <span class="s1">'top'</span><span class="p">,</span> <span class="s1">'bottom'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">gradient</span><span class="p">(</span><span class="s1">'radial'</span><span class="p">,</span> <span class="p">{</span> <span class="s2">"0"</span><span class="o">:</span> <span class="s1">'blue'</span><span class="p">,</span> <span class="s2">"0.5"</span><span class="o">:</span> <span class="s1">'red'</span> <span class="p">},</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">gradient</span><span class="p">({</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">'radial'</span><span class="p">,</span>
  <span class="nx">colors</span><span class="o">:</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span> <span class="s1">'orange'</span><span class="p">,</span> <span class="s1">'yellow'</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">,</span> <span class="s1">'cyan'</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">,</span> <span class="s1">'purple'</span><span class="p">],</span>
  <span class="nx">center</span><span class="o">:</span> <span class="s1">'center'</span><span class="p">,</span>
  <span class="nx">startRadius</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">radius</span><span class="o">:</span> <span class="mi">100</span>
<span class="p">});</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">g</span><span class="p">);</span>
</pre></div>

<p>Кроме того, мы можем создать инлайновый градиент.</p>

<div class="highlight highlight-js"><pre><span class="nx">ctx</span><span class="p">.</span><span class="nx">rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">colors</span><span class="o">:</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span> <span class="s1">'transparent'</span><span class="p">],</span>
  <span class="nx">from</span><span class="o">:</span> <span class="s1">'top'</span><span class="p">,</span>
  <span class="nx">to</span><span class="o">:</span> <span class="s1">'bottom'</span><span class="p">,</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">'linear'</span>
<span class="p">});</span>
</pre></div>

<h3>
<a name="user-content-%D0%9C%D0%B5%D1%82%D0%BE%D0%B4%D1%8B" class="anchor" href="#%D0%9C%D0%B5%D1%82%D0%BE%D0%B4%D1%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>Методы</h3>

<h4>
<a name="user-content-colormixindex" class="anchor" href="#colormixindex" aria-hidden="true"><span class="octicon octicon-link"></span></a>colorMix(index)</h4>

<p>Высчитывает средний цвет (возвращает массив).</p>

<div class="highlight highlight-js"><pre><span class="nx">ctx</span><span class="p">.</span><span class="nx">gradient</span><span class="p">(</span><span class="s1">'linear'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'white'</span><span class="p">,</span> <span class="s1">'black'</span><span class="p">],</span> <span class="s1">'top'</span><span class="p">,</span> <span class="s1">'bottom'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">colorMix</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span> <span class="c1">// -&gt; [128, 128, 128, 1]</span>
</pre></div>

<h4>
<a name="user-content-colorindex-value" class="anchor" href="#colorindex-value" aria-hidden="true"><span class="octicon octicon-link"></span></a>color(index, [value])</h4>

<p>Возвращает / устанавливает цвет.</p>

<div class="highlight highlight-js"><pre><span class="nx">grad</span><span class="p">.</span><span class="nx">color</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// -&gt; "red"</span>
<span class="nx">grad</span><span class="p">.</span><span class="nx">color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">);</span>
</pre></div>

<h4>
<a name="user-content-colorsvalue" class="anchor" href="#colorsvalue" aria-hidden="true"><span class="octicon octicon-link"></span></a>colors([value])</h4>

<p>Все цвета (возвращает в виде хэша <code>{индекс:цвет}</code>).</p>

<div class="highlight highlight-js"><pre><span class="nx">grad</span><span class="p">.</span><span class="nx">colors</span><span class="p">();</span> <span class="c1">// -&gt; {0:'red', 0.5:'green', 1:'blue'}</span>
<span class="nx">grad</span><span class="p">.</span><span class="nx">colors</span><span class="p">([</span><span class="s1">'red'</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">]);</span>
</pre></div>

<h4>
<a name="user-content-from--to" class="anchor" href="#from--to" aria-hidden="true"><span class="octicon octicon-link"></span></a>from / to</h4>

<p>Возвращает / устанавливает. Работают все точки, как и у трансформаций (<code>left top</code>, <code>top</code>, <code>tl</code>, <code>[0,0]</code>, <code>{x:10, y:10}</code>).</p>

<p>С радиальными градиентами юзать массивы из 3 значений.</p>

<h4>
<a name="user-content-startradiusvalue--radiusvalue" class="anchor" href="#startradiusvalue--radiusvalue" aria-hidden="true"><span class="octicon octicon-link"></span></a>startRadius([value]) / radius([value])</h4>

<h4>
<a name="user-content-centerx-y--hilitex-y--destinationx-y" class="anchor" href="#centerx-y--hilitex-y--destinationx-y" aria-hidden="true"><span class="octicon octicon-link"></span></a>center([x, y]) / hilite([x, y]) / destination([x, y])</h4>

<p>Возвращают / устанавливают. Для <code>center</code> / <code>hilite</code> / <code>destination</code> можно передать 2 координаты, либо массив из 2 координат.</p>

<h3>
<a name="user-content-%D0%9E%D1%82%D0%B4%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D0%BC%D0%BE%D0%BC%D0%B5%D0%BD%D1%82" class="anchor" href="#%D0%9E%D1%82%D0%B4%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D0%BC%D0%BE%D0%BC%D0%B5%D0%BD%D1%82" aria-hidden="true"><span class="octicon octicon-link"></span></a>Отдельный момент</h3>

<p>Изменение градиента обновляет все залитые им фигуры. Например:</p>

<div class="highlight highlight-js"><pre><span class="kd">var</span> <span class="nx">grad</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">gradient</span><span class="p">(</span><span class="s1">'linear'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">],</span> <span class="s1">'top'</span><span class="p">,</span> <span class="s1">'bottom'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">rect</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">rect</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="nx">grad</span><span class="p">);</span>
<span class="nx">grad</span><span class="p">.</span><span class="nx">color</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">'yellow'</span><span class="p">);</span> <span class="c1">// rect обновится с новым градиентом</span>
</pre></div>

<p>А также можно сделать так:</p>

<div class="highlight highlight-js"><pre><span class="nx">rect</span><span class="p">.</span><span class="nx">fill</span><span class="p">().</span><span class="nx">color</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// -&gt; ...</span>
</pre></div>

<p>Стоит быть осторожным, если вы заливаете одним градиентом несколько объектов сразу.</p>
<br/><br/>
<h2>Pattern</h2>
<p><code>Pattern</code> - текстура (тоже самое, что и изображение, но умеет повторяться + можно ей залить фигуру).</p>

<p>Тоже умеет быть инлайновой.</p>

<div class="highlight highlight-js"><pre><span class="c1">// второй параметр - повторяться ли (true, false, 'x', 'y'). По умолч. - true</span>
<span class="kd">var</span> <span class="nx">pat</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">pattern</span><span class="p">(</span><span class="s1">'./img.png'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">pt2</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">pattern</span><span class="p">(</span><span class="s1">'#image'</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">;</span>
<span class="nx">i</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'../img.jpg'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pt3</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">pattern</span><span class="p">({</span>
  <span class="nx">image</span><span class="o">:</span> <span class="nx">i</span><span class="p">,</span>
  <span class="nx">repeat</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">});</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'./img.jpg'</span><span class="p">);</span>
<span class="c1">// ссылка должна начинаться с 'http://' или с '.'</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">rect</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">image</span><span class="o">:</span> <span class="s1">'./png.jpg.gif'</span><span class="p">,</span>
  <span class="nx">repeat</span><span class="o">:</span> <span class="s1">'y'</span>
<span class="p">});</span>
</pre></div>

<h3>
<a name="user-content-%D0%9C%D0%B5%D1%82%D0%BE%D0%B4%D1%8B-1" class="anchor" href="#%D0%9C%D0%B5%D1%82%D0%BE%D0%B4%D1%8B-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Методы</h3>

<h4>
<a name="user-content-repeatvalue" class="anchor" href="#repeatvalue" aria-hidden="true"><span class="octicon octicon-link"></span></a>repeat([value])</h4>

<p>Возвращает / устанавливает. Допустимые варианты: <code>true</code>, <code>false</code>, <code>'x'</code>, <code>'y'</code>.</p>

<p>Изменение параметра обновляет все залитые текстурой фигуры.</p>
	  </section>
	</div>

	<!-- FOOTER  -->
	<div id="footer_wrap" class="outer">
	  <footer class="inner">
		<p class="copyright">Graphics2D maintained by <a href="https://github.com/keyten">keyten</a></p>
		<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
	  </footer>
	</div>

	

  </body>
</html>

Graphics2D.Layers
===================

Позволяет создавать многослойные canvas (несколько canvas-ов с прозрачным фоном друг над другом). Кроме того, умеет создавать корректную обработку событий мыши.

### Создание
Создаётся также, как и любой другой контекст Graphics2D, только используем не `id` / `query`, а `app`. Указываем размеры. В качестве DOM-элемента используем div (или любой другой).

```js
// &lt;div id="example">&lt;/div>

var app = Graphics2D.app('#example', 150, 150);
```

### Методы

#### layer
Возвращает слой с указанным индексом. Если такого нет - создаёт. Если индекс не указан -- будет создан новый слой поверх всех.
```js
var first = app.layer();
first === app.layer(0); // -> true

var third = app.layer(2);
```
Слой является обычным контекстом Graphics2D.
```js
first.rect(10, 10, 200, 200, 'red');
```

#### on
Ставит обработчик события. Работает полностью аналогично соотв. методу контекста Graphics2D.
```js
app.on('click', function(e){
	e.targetObject.hide();
});
```
Стандартные (подключаемые к canvas-у) обработчики событий на многослойном canvas не работают.

#### fire
Вызывает событие. Полностью аналогично методу контекста.

#### width
Возвращает / изменяет ширину canvas-ов.
```js
app.width(); // -> 150
app.width(300);
```

#### height
Возвращает / изменяет высоту canvas-ов.

### Слой
Слой является обычным контекстом, расширенным некоторыми специальными методами.

#### z
Возвращает z-index canvas-а.

#### isVisible
Возвращает true, если слой видим.

#### hide
Скрывает слой.

#### show
Показывает слой.

#### opacity
Возвращает / изменяет прозрачность слоя.

#### toDataURL
Возвращает картинку на слое в формате Data:URL. Можно передать тип (`type/jpeg`, `type/png` и т.п.)
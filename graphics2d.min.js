!function(a,b){function c(){for(var a,b,d=0,e=A._queue.length,f=Date.now();e>d;d++)a=A._queue[d],b=(f-a.startTime)/a.duration,0>b||(b>1&&(b=1),a.now=f,a.pos=a.easing(b),A.fx.step[a.prop](a),0===a.state&&(a.state=1),1===b&&(a.callback&&a.callback.call(a.elem,a),a.elem._queue?(a.elem._queue.shift(),a.elem._queue.length>0?(A._queue[d]=a=a.elem._queue[0],a.startTime=Date.now(),a.endTime=a.startTime+a.duration):(a.elem._queue=null,A._queue.splice(d,1),d--,e--)):(a.elem._queue=null,A._queue.splice(d,1),d--,e--)));a.elem.update(),e>0?E(c):F=!1}function d(a,b){0===a.state&&(a.elem._matrixStart=a.elem._matrix||[1,0,0,1,0,0],a.elem._matrixCur=[],a.corner=a.elem.corner?a.elem.corner(a.elem._origin||"center"):[0,0]),a.elem._matrixCur.now!==a.now&&(a.elem._matrixCur=[1,0,0,1,0,0]);var c=b(a);c[4]+=a.corner[0]-a.corner[0]*c[0]-a.corner[1]*c[2],c[5]+=a.corner[1]-a.corner[0]*c[1]-a.corner[1]*c[3],a.elem._matrixCur=C.multiply(a.elem._matrixCur,c),a.elem._matrixCur.now=a.now,a.elem._matrix=C.multiply(a.elem._matrixStart,a.elem._matrixCur)}function e(a){return function(b){return this.argument(a,b)}}function f(a,b){if(a===!0)return L;switch(a.length){case 2:return new G("lineTo",a,b);case 4:return new H("quadraticCurveTo",a,b);case 6:return new I("bezierCurveTo",a,b)}}function g(a){return M?M:(["imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled"].forEach(function(b){b in a&&(M=b)}),M)}function h(a){A.easing[N+"In"]=a,A.easing[N+"Out"]=function(b){return 1-a(1-b)},A.easing[N+"InOut"]=function(b){return.5>=b?a(2*b)/2:(2-a(2*(1-b)))/2}}function i(a,b,c,d){this.x=this.x1=a,this.y=this.y1=b,this.w=this.width=c,this.h=this.height=d,this.x2=a+c,this.y2=b+d,this.cx=a+c/2,this.cy=b+d/2}function j(a,b,c){b||(b=a,a=null);var d=function(){return(d.prototype.initialize||B).apply(this,arguments)};if(a){d=function(){if(d.prototype.__initialize__)return d.prototype.__initialize__.apply(this,arguments);for(var a=[],b=this.constructor.parent;b;)a.push(b.prototype.initialize),b=b.parent;for(var c=a.length;c--;)a[c]&&a[c].apply(this,arguments);return(d.prototype.initialize||B).apply(this,arguments)};var e=function(){};e.prototype=a.prototype,d.prototype=new e,d.parent=a,d.prototype.constructor=d}return c&&k(d,c),k(d.prototype,b),d}function k(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a}function l(a){return"[object String]"==D.call(a)}function m(a){return"[object Array]"==D.call(a)}function n(a){return"[object Object]"==D.call(a)}function o(a){return"[object Number]"==D.call(a)?!0:l(a)&&/^(\d+|(\d+)?\.\d+)(em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|px|pt|pc)?$/.test(a)?!0:!1}{var p,q,r,s,t,u,v,w,x,y,z,i,A={},B=function(){},C={},D=Object.prototype.toString,E=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||a.setTimeout;a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||a.clearTimeout}A.Context=p=function(a){this.context=a.getContext("2d"),this.canvas=a,this.elements=[],this.listeners={},this._cache={}},p.prototype={rect:function(a,b,c,d,e,f){return this.push(new r(a,b,c,d,e,f,this))},circle:function(a,b,c,d,e){return this.push(new s(a,b,c,d,e,this))},curve:function(a,b,c,d,e){return this.push(new t(a,c,b,d,e,this))},path:function(a,b,c){return this.push(new u(a,b,c,this))},image:function(a,b,c,d,e){return this.push(new v(a,b,c,d,e,this))},text:function(a,b,c,d,e,f){return this.push(new w(a,b,c,d,e,f,this))},textblock:function(a,b,c,d,e,f,g){return this.push(new x(a,b,c,d,e,f,g,this))},gradient:function(a,b,c,d){return new y(a,b,c,d,this)},pattern:function(a,b){return new z(a,b,this)},line:function(a,b,c,d,e){return this.push(new u([[a,b],[c,d]],null,e,this))},quadratic:function(a,b,c,d,e,f,g){return this.push(new u([[a,b],[c,d,e,f]],null,g,this))},bezier:function(a,b,c,d,e,f,g,h,i){return this.push(new u([[a,b],[c,d,e,f,g,h]],null,i,this))},arcTo:function(a,b,c,d,e,f,g){return this.push(new u([{f:"moveTo",arg:[a,b]},{f:"arcTo",arg:[a,b,c,d,e,f]}],null,g,this))},push:function(a){return a.z=this.elements.length,a.context=this,this.elements.push(a),a.draw&&a.draw(this.context),a},update:function(){this._timer||(this._timer=E(function(){this._update(),this._timer=null}.bind(this),1))},_update:function(){var a=this.context;a.clearRect(0,0,this.canvas.width,this.canvas.height),this.elements.forEach(function(b){b.draw(a)}),this.fire("update")},getObjectInPoint:function(a,b,c){for(var d=this.elements,e=d.length;e--;)if(d[e].isPointIn&&d[e].isPointIn(a,b)&&(d[e]._events||!c))return d[e];return null},hoverElement:null,focusElement:null,listener:function(a){if(!this.listeners[a]){switch(this.listeners[a]=[],this.canvas.addEventListener(a,function(b){var c,d=C.coordsOfElement(this.canvas);b.contextX=b.clientX-d.x,b.contextY=b.clientY-d.y,"mouseout"===a?(c=this.hoverElement,this.hoverElement=null):c=this.getObjectInPoint(b.contextX,b.contextY,!0),b.targetObject=c,c&&c.fire&&c.fire(a,b),this.fire(a,b)}.bind(this)),a){case"mouseover":this.listenerSpecial("mouseover","mouseout","hover","mousemove"),this.listener("mouseout");break;case"mouseout":this.listenerSpecial("mouseover","mouseout","hover","mousemove"),this.listener("mouseover");break;case"focus":this.listenerSpecial("focus","blur","focus","mousedown")}return this.listeners[a]}},listenerSpecial:function(a,b,c,d){return c+="Element",this.on(d,function(d){var e=d.targetObject,f=this[c];f!=e&&(f&&f.fire&&f.fire(b,d),e&&e.fire&&e.fire(a,d),this[c]=e)}.bind(this)),this},on:function(b,c){return"[object Number]"===D.call(b)?(a.setTimeout(c.bind(this),b),this):((this.listeners[b]||this.listener(b)).push(c),this)},once:function(a,b){var c;this.on(a,c=function(d){b.call(this,d),this.off(a,c)}.bind(this))},off:function(a,b){b||(this.listeners[a]=[]);var c=this.listeners[a].indexOf(b);return this.listeners=this.listeners[a].slice(0,c).concat(this.listeners[a].slice(c+1)),this},fire:function(a,b){var c=this.listeners[a];return c?(c.forEach(function(a){a.call(this,b)}.bind(this)),this):this}},A.Shape=q=new j({initialize:function(){this.listeners={},this._style={}},_parseHash:function(a){var c=this._style;a.opacity!==b&&(c.globalAlpha=a.opacity),a.composite!==b&&(c.globalCompositeOperation=a.composite),a.visible!==b&&(this._visible=a.visible),a.clip!==b&&(this._clip=a.clip),this._processStyle(a.fill,a.stroke,this.context.context)},_processStyle:function(a,b){a&&(this._style.fillStyle=a),b&&k(this._style,this._parseStroke(b)),a instanceof y||a instanceof z||(n(a)&&a.colors&&(this._style.fillStyle=new y(a,null,null,null,this.context)),a&&(l(a)||n(a))&&(n(a)&&a.image||a.indexOf&&(0===a.indexOf("http://")||0===a.indexOf(".")))&&(this._style.fillStyle=new z(a,null,this.context)),a instanceof Image&&(this._style.fillStyle=new z(a,null,this.context)))},_applyStyle:function(){var a=this.context.context;a.save();for(var b in this._style)C.has(this._style,b)&&(a[b]=this._style[b]);this._clip&&(this._clip._matrix?(a.save(),a.transform.apply(a,this._clip._matrix),this._clip.processPath(a),a.restore()):this._clip.processPath(a),a.clip()),this._matrix&&a.transform.apply(a,this._matrix),this._style.fillStyle&&this._style.fillStyle.toCanvasStyle?a.fillStyle=this._style.fillStyle.toCanvasStyle(a,this):"function"==typeof this._style.fillStyle&&(a.fillStyle=this._style.fillStyle.call(this,a)),this._style.strokeStyle&&this._style.strokeStyle.toCanvasStyle&&(a.strokeStyle=this._style.strokeStyle.toCanvasStyle(a,this)),this._style._lineDash&&(a.setLineDash?a.setLineDash(this._style._lineDash):a.mozDash=this._style._lineDash)},_parseStroke:function(a){var c,d={};if(n(a))return a.width!==b&&(d.lineWidth=a.width),a.color&&(d.strokeStyle=a.color),a.cap&&(d.lineCap=a.cap),a.join&&(d.lineJoin=a.join),a.dash&&(d._lineDash=l(a.dash)&&C.dashes[a.dash]||a.dash),d;if(a.split(" ").forEach(function(a){/^\d*\.\d+$/.test(a)?c=parseFloat(a):"["===a[0]?d._lineDash=a.substring(1,a.length-1).split(","):o(a)?d.lineWidth=C.distance(a):"miter"===a||"bevel"===a?d.lineJoin=a:"butt"===a||"square"===a?d.lineCap=a:"round"===a?(d.lineJoin=d.lineJoin||a,d.lineCap=d.lineCap||a):a in C.dashes?d._lineDash=C.dashes[a]:d.strokeStyle=a}),c){var e=C.color(d.strokeStyle);e[3]*=c,d.strokeStyle="rgba("+e.join(",")+")"}return d},draw:function(a){this._visible&&(this._applyStyle(),this.processPath(a),this._style.fillStyle&&a.fill(),this._style.strokeStyle&&a.stroke(),a.restore())},update:function(){return this.context.update(),this},_property:function(a,c){return c===b?this["_"+a]:(this["_"+a]=c,this.update())},_setstyle:function(a,c){return c===b?this._style[a]:(this._style[a]=c,this.update())},mouse:function(a){return this._property("events",!!a)},z:function(a){return a===b?this._z:("top"===a&&(a=this.context.elements.length),this.context.elements=C.move.call(this.context.elements,this._z,a),this._z=a,this.update())},clip:function(a,c,d,e){return a===b?this._clip:(null===a&&delete this._clip,this._clip=a.processPath?a:e!==b?new r(a,c,d,e,null,null,this.context):d!==b?new s(a,c,d,null,null,this.context):new u(a,null,null,this.context),this.update())},remove:function(){return this.context.elements.splice(this._z,1),this.update()},fill:function(a){return n(a)&&a.colors?(this._style.fillStyle=new y(a,null,null,null,this.context),this.update()):a&&(a.indexOf||n(a))&&(n(a)&&a.image||0===a.indexOf("http://")||0===a.indexOf("."))?(this._style.fillStyle=new z(a,null,this.context),this.update()):this._setstyle("fillStyle",a)},stroke:function(a){var c=this._style;return a===b?{color:c.strokeStyle,width:c.lineWidth,cap:c.lineCap,join:c.lineJoin,dash:c._lineDash}:(null===a&&(delete c.strokeStyle,delete c.lineWidth,delete c.lineCap,delete c.lineJoin,delete c._lineDash),k(c,this._parseStroke(a)),this.update())},opacity:function(a){return this._setstyle("globalAlpha",a)},composite:function(a){return this._setstyle("globalCompositeOperation",a)},hide:function(){return this._property("visible",!1)},show:function(){return this._property("visible",!0)},cursor:function(a){var b=this.context.canvas,c=b.style.cursor;return this.on("mouseover",function(){b.style.cursor=a}).on("mouseout",function(){b.style.cursor=c})},shadow:function(a,c){var d=this._style,e={x:"shadowOffsetX",y:"shadowOffsetY",color:"shadowColor",blur:"shadowBlur"};if(l(a)){if(c===b)return d[e[a]];-1===a.indexOf(" ")&&(d[e[a]]=c)}else{c=a,c.opacity&&(c.color=C.color(c.color||d.shadowColor||"black"),c.color[3]*=c.opacity,c.color="rgba("+c.color.join(",")+")");for(a in c)C.has(c,a)&&(d[e[a]]=c[a])}return this.update()},on:function(b,c){if(l(c)){var d=c,e=Array.prototype.slice.call(arguments,2);c=function(){this[d].apply(this,e)}}return"[object Number]"===D.call(b)?(a.setTimeout(c.bind(this),b),this):(this.context.listener(b),(this.listeners[b]||(this.listeners[b]=[])).push(c),this)},once:function(a,b){var c;this.on(a,c=function(d){b.call(this,d),this.off(a,c)}.bind(this)),b.proxy=c},off:function(a,b){return b||(this.listeners[a]=[]),this.listeners[a][this.listeners[a].indexOf(b.proxy||b)]=B,this},fire:function(a,b){return(this.listeners[a]||[]).forEach(function(a){a.call(this,b)}.bind(this)),this},isPointIn:function(a,b){if(!this.processPath)return!1;var c=this.context.context;return c.save(),this._matrix&&c.transform.apply(c,this._matrix),this.processPath(c),a=c.isPointInPath(a,b),c.restore(),a},corner:function(a){if(m(a))return a;if(n(a)){if(C.has(a,"from")){var b=this.corner(a.from);return[b[0]+a.x,b[1]+a.y]}return[a.x,a.y]}if(!this.bounds)throw new Error("Object hasn't bounds() method.");a||(a="center");var c=this.bounds();return[c.x+c.w*C.corners[a][0],c.y+c.h*C.corners[a][1]]},transform:function(a,c,d,e,f,g,h){if(a===b)return this._matrix;if(null===a)return this._matrix=null,this.update();var i=this.corner(h),j=[a,c,d,e,-i[0]*a-i[1]*d+f+i[0],-i[0]*c-i[1]*e+g+i[1]];return this._matrix&&(j=C.multiply(this._matrix,j)),this._matrix=j,this.update()},scale:function(a,c,d){return c===b&&(c=o(a)?a:a[1]!==b?a[1]:a.y!==b?a.y:1),o(a)||(a=a[0]!==b?a[0]:a.x!==b?a.x:1),this.transform(a,0,0,c,0,0,d)},rotate:function(a,b){return a=a*Math.PI/180,this.transform(Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0,b)},skew:function(a,c,d){return c===b&&(c=o(a)?a:a[1]||a.y||0),o(a)||(a=a[0]||a.x||0),this.transform(1,Math.tan(c*Math.PI/180),Math.tan(a*Math.PI/180),1,0,0,d)},translate:function(a,b){return this.transform(1,0,0,1,a,b)},toPath:function(){},toImage:function(){},animate:function(a,b,c){if(n(a)){n(b)?b.queue=!1:b={duration:b,easing:c,callback:arguments[4],queue:!1};for(var d in a)C.has(a,d)&&this.animate(d,a[d],b,c,arguments[4]);return this}n(c)||(c={duration:c,easing:arguments[3],callback:arguments[4]});var e=Date.now(),f={elem:this,startTime:e,endTime:e+(c.duration||500),duration:c.duration||500,prop:a,end:b,state:0,easing:A.easing[c.easing]||c.easing||A.easing.linear,callback:c.callback};return c.queue===!1?(A._queue.push(f),A._checkAnimation()):this._queue&&this._queue.length>0?this._queue.push(f):(this._queue=[f],A._queue.push(f),A._checkAnimation()),this},_visible:!0,_events:!0,_origin:"center"}),A._queue=[];var F=!1;A._checkAnimation=function(){F||(E(c),F=!0)},A.fx={},A.fx.step={"int":function(a){0===a.state&&(a._prop="_"+a.prop,a.start=a.elem[a._prop]),a.elem[a._prop]=Math.round(a.start+(a.end-a.start)*a.pos)},"float":function(a){0===a.state&&(a._prop="_"+a.prop,a.start=a.elem[a._prop]),a.elem[a._prop]=a.start+(a.end-a.start)*a.pos},opacity:function(a){0===a.state&&(a.start=a.elem._style.globalAlpha,a.start===b&&(a.start=1)),a.elem._style.globalAlpha=a.start+(a.end-a.start)*a.pos},fill:function(a){0===a.state&&(a.start=C.color(a.elem._style.fillStyle),a.end="transparent"===a.end?a.start.slice(0,3).concat([0]):C.color(a.end),("transparent"===a.elem._style.fillStyle||a.elem._style.fillStyle===b)&&(a.start=a.end.slice(0,3).concat([0]))),a.elem._style.fillStyle="rgba("+[Math.round(a.start[0]+(a.end[0]-a.start[0])*a.pos),Math.round(a.start[1]+(a.end[1]-a.start[1])*a.pos),Math.round(a.start[2]+(a.end[2]-a.start[2])*a.pos),a.start[3]+(a.end[3]-a.start[3])*a.pos].join(",")+")"},stroke:function(a){if(0===a.state){var c=q.prototype._parseStroke(a.end);a.color1=C.color(a.elem._style.strokeStyle),a.width1=a.elem._style.lineWidth||0,a.width2=c.lineWidth,"transparent"===c.strokeStyle?a.color2=a.color1.slice(0,3).concat([0]):c.strokeStyle&&(a.color2=C.color(c.strokeStyle)),"transparent"!==a.elem._style.strokeStyle&&a.elem._style.strokeStyle!==b||!c.strokeStyle||(a.color1=a.color2.slice(0,3).concat([0]))}a.color2&&(a.elem._style.strokeStyle="rgba("+[Math.round(a.color1[0]+(a.color2[0]-a.color1[0])*a.pos),Math.round(a.color1[1]+(a.color2[1]-a.color1[1])*a.pos),Math.round(a.color1[2]+(a.color2[2]-a.color1[2])*a.pos),a.color1[3]+(a.color2[3]-a.color1[3])*a.pos].join(",")+")"),a.width2&&(a.elem._style.lineWidth=a.width1+(a.width2-a.width1)*a.pos)},translate:function(a){d(a,function(){return[1,0,0,1,a.end[0]*a.pos,a.end[1]*a.pos]})},rotate:function(a){0===a.state&&(a.end=a.end*Math.PI/180),d(a,function(){var b=a.end*a.pos,c=Math.cos(b),d=Math.sin(b);return[c,d,-d,c,0,0]})},skew:function(a){0===a.state&&(a.end.length===b&&(a.end=[a.end,a.end]),a.end[0]=a.end[0]*Math.PI/180,a.end[1]=a.end[1]*Math.PI/180),d(a,function(){return[1,Math.tan(a.end[1]*a.pos),Math.tan(a.end[0]*a.pos),1,0,0]})},scale:function(a){0===a.state&&a.end.length===b&&(a.end=[a.end,a.end]),d(a,function(){return[1+(a.end[0]-1)*a.pos,0,0,1+(a.end[1]-1)*a.pos,0,0]})},origin:function(a){0===a.state&&(a.elem._origin=a.elem.corner(a.end))}},["click","dblclick","mousedown","mousewheel","mouseup","mousemove","mouseover","mouseout","focus","blur","touchstart","touchmove","touchend"].forEach(function(a){q.prototype[a]=p.prototype[a]=function(b){return"function"==typeof b||l(b)?this.on.apply(this,[a].concat(Array.prototype.slice.call(arguments))):this.fire.apply(this,arguments)}}),["x","y","width","height","cx","cy","radius"].forEach(function(a){A.fx.step[a]=A.fx.step.int}),A.Rect=r=new j(q,{initialize:function(a,b,c,d,e,f,g){this.context=g,n(a)?(this._x=a.x,this._y=a.y,this._width=a.width,this._height=a.height,this._parseHash(a)):(this._x=a,this._y=b,this._width=c,this._height=d,this._processStyle(e,f,g.context))},x:function(a){return this._property("x",a)},y:function(a){return this._property("y",a)},width:function(a){return this._property("width",a)},height:function(a){return this._property("height",a)},x1:function(a){return a===b?this._x:this._property("width",this._width-a+this._x)._property("x",a)},y1:function(a){return a===b?this._y:this._property("height",this._height-a+this._y)._property("y",a)},x2:function(a){return a===b?this._x+this._width:this._property("width",a-this._x)},y2:function(a){return a===b?this._y+this._height:this._property("height",a-this._y)},bounds:function(){return new i(this._x,this._y,this._width,this._height)},processPath:function(a){a.beginPath(),a.rect(this._x,this._y,this._width,this._height)}}),A.Circle=s=new j(q,{initialize:function(a,b,c,d,e,f){this.context=f,n(a)?(this._cx=a.cx||a.x||0,this._cy=a.cy||a.y||0,this._radius=a.radius,this._parseHash(a)):(this._cx=a,this._cy=b,this._radius=c,this._processStyle(d,e,f.context))},cx:function(a){return this._property("cx",a)},cy:function(a){return this._property("cy",a)},radius:function(a){return this._property("radius",a)},bounds:function(){return new i(this._cx-this._radius,this._cy-this._radius,2*this._radius,2*this._radius)},processPath:function(a){a.beginPath(),a.arc(this._cx,this._cy,this._radius,0,2*Math.PI,!0)}}),A.Curve=t=new j(q,{initialize:function(a,b,c,d,e,f){this._name=a,this._arguments=b,this.context=f,f instanceof p?(this._from=c,this._processStyle(d,e,f.context)):c&&(this.update=c.update.bind(c)),a in u.curves&&k(this,u.curves[a].prototype)},arguments:function(){return this._property("arguments",arguments.length>1?arguments:arguments[0])},argument:function(a,c){return c===b?this._arguments[a]:(this._arguments[a]=c,this.update(),this)},from:function(a,c){return c!==b?this._property("from",[a,c]):this._property("from",a)},process:function(a){return a[this._name].apply(a,this._arguments),[0,0]},processPath:function(a){a.beginPath(),a.moveTo(this._from[0],this._from[1]),this.process(a,this._from)},toPath:function(){var a=new u(this);return a._style=this._style,a},bounds:function(){return null}}),A.Path=u=new j(q,{initialize:function(a,b,c,d){this._curves=u.parsePath(a,this),this._processStyle(b,c,d.context),this.context=d},curve:function(a,c){return c===b?this._curves[a]:(c=u.parsePath(c,this,0===a?!1:!0),this._curves.splice.apply(this._curves,[a,1].concat(c)),this.update())},before:function(a,b,c){return c!==!1&&0===a&&(this._curves[0]._name="lineTo"),b=u.parsePath(b,this,0===a?!1:!0),this._curves.splice.apply(this._curves,[a,0].concat(b)),this.update()},after:function(a,b){return this.before(a+1,b)},remove:function(a){return a===b?q.prototype.remove.call(this):(this._curves.splice(a,1),this.update())},curves:function(a){return a===b?this._curves:(this._curves=o(a[0])?u.parsePath(Array.prototype.slice.call(arguments),this):u.parsePath(a,this),this.update())},push:function(a){return this._curves.push(a),this.update()},add:function(a,b){return this.push(new u.curves[a](a,b,this))},moveTo:function(a,b){return this.add("moveTo",[a,b])},lineTo:function(a,b){return this.add("lineTo",[a,b])},quadraticCurveTo:function(a,b,c,d){return this.add("quadraticCurveTo",[a,b,c,d])},bezierCurveTo:function(a,b,c,d,e,f){return this.add("bezierCurveTo",[a,b,c,d,e,f])},arcTo:function(a,b,c,d,e,f){return this.add("arcTo",[a,b,c,d,e,!!f])},arc:function(a,b,c,d,e,f){return this.add("arc",[a,b,c,d,e,!!f])},closePath:function(){return this.add("closePath",[])},allPoints:function(){},transformPath:function(){},processPath:function(a){var b=[0,0];a.beginPath(),this._curves.forEach(function(c){c=c.process(a,b),b[0]+=c[0],b[1]+=c[1]})},merge:function(a){return this._curves=this._curves.concat(a._curves),this.update()},bounds:function(){}});var G,H,I,J,K;u.curves={moveTo:G=new j(t,{process:function(a){return a[this._name].apply(a,this._arguments),this._arguments},x:e(0),y:e(1),bounds:function(a){return"moveTo"===this._name?null:(this._from&&(a=this._from),new i(a[0],a[1],this._arguments[0]-a[0],this._arguments[1]-a[1]))}}),lineTo:G,quadraticCurveTo:H=new j(t,{process:function(a){return a[this._name].apply(a,this._arguments),this._arguments.slice(2)},x:e(2),y:e(3),hx:e(0),hy:e(1),bounds:function(a){this._from&&(a=this._from);var b=Math.min(this._arguments[0],this._arguments[2],a[0]),c=Math.min(this._arguments[1],this._arguments[3],a[1]),d=Math.max(this._arguments[0],this._arguments[2],a[0]),e=Math.max(this._arguments[1],this._arguments[3],a[1]);return new i(b,c,d-b,e-c)}}),bezierCurveTo:I=new j(t,{process:function(a){return a[this._name].apply(a,this._arguments),this._arguments.slice(4)},x:e(4),y:e(5),h1x:e(0),h1y:e(1),h2x:e(2),h2y:e(3),bounds:function(a){this._from&&(a=this._from);var b=Math.min(this._arguments[0],this._arguments[2],this._arguments[4],a[0]),c=Math.min(this._arguments[1],this._arguments[3],this._arguments[5],a[1]),d=Math.max(this._arguments[0],this._arguments[2],this._arguments[4],a[0]),e=Math.max(this._arguments[1],this._arguments[3],this._arguments[5],a[1]);return new i(b,c,d-b,e-c)}}),arc:J=new j(t,{process:function(a){a[this._name].apply(a,this._arguments);var b=this._arguments[0],c=this._arguments[1],d=this._arguments[2],e=this._arguments[3],f=this._arguments[4],g=this._arguments[5],h=f-e;return g&&(h=-h),[b+Math.cos(h)*d,c+Math.sin(h)*d]},x:e(0),y:e(1),radius:e(2),start:e(3),end:e(4),clockwise:e(5)}),arcTo:K=new j(t,{process:function(a){return a[this._name].apply(a,this._arguments),this._arguments.slice(2,4)},x1:e(0),y1:e(1),x2:e(2),y2:e(3),radius:e(4),clockwise:e(5)})};var L=new t("closePath",[]);u.parsePath=function(a,b,c){if(!a)return[];if(a instanceof t)return[a];var d=[];if(m(a)){o(a[0])&&(a=[a]);for(var e=0,g=a.length;g>e;e++)if(a[e]instanceof t)d.push(a[e]);else{if(0===e&&!c){d.push(new G("moveTo",a[e],b));continue}d.push(f(a[e],b))}}return d};var M;A.Image=v=new j(q,{initialize:function(a,c,d,e,f,g){this.context=g,c===b?(this._image=a.image,this._x=a.x,this._y=a.y,this._width=a.width,this._height=a.height,this._crop=a.crop,this._parseHash(a)):(this._image=a,this._x=c,this._y=d,this._width=e,this._height=f),l(this._image)&&("#"===this._image[0]?this._image=document.getElementById(this._image.substr(1)):(c=new Image,c.src=this._image,this._image=c));var h;this._image.complete&&(h=this._computeSize(this._width,this._height,this._image),this._width=h[0],this._height=h[1]),this._image.addEventListener("load",function(){this.fire("load"),h=this._computeSize(this._width,this._height,this._image),this._width=h[0],this._height=h[1],this.update()}.bind(this))},_computeSize:function(a,c,d){return o(a)&&o(c)?[a,c]:l(a)&&l(c)||a===b&&c===b?[d.width,d.height]:"native"===a||"native"===c?["native"===a?d.width:a,"native"===c?d.height:c]:"auto"===a||"auto"===c?["auto"===a?d.width*(c/d.height):a,"auto"===c?d.height*(a/d.width):c]:void 0},x:r.prototype.x,y:r.prototype.y,x1:r.prototype.x1,y1:r.prototype.y1,x2:r.prototype.x2,y2:r.prototype.y2,width:function(a){return a===b?this._width:this._property("width",this._computeSize(a,this._height,this._image)[0])},height:function(a){return a===b?this._height:this._property("height",this._computeSize(this._width,a,this._image)[1])},bounds:r.prototype.bounds,processPath:r.prototype.processPath,crop:function(a){return 0===arguments.length?this._crop:(arguments.length>1?this._crop=Array.prototype.slice.call(arguments,0):null===a?delete this._crop:this._crop=a,this.update())},smooth:function(a){var c=this._style,d=g(this.context.context);return a===b?c[d]===b?this.context.context[d]:c[d]:(c[d]=!!a,this.update())},_smooth:!0,draw:function(a){this._visible&&(this._applyStyle(),this._crop!==b?a.drawImage(this._image,this._crop[0],this._crop[1],this._crop[2],this._crop[3],this._x,this._y,this._width,this._height):this._width!==b?a.drawImage(this._image,this._x,this._y,this._width,this._height):a.drawImage(this._image,this._x,this._y),this._style.strokeStyle!==b&&a.strokeRect(this._x,this._y,this._width,this._height),a.restore())}}),A.Text=w=new j(q,{initialize:function(a,c,d,e,f,g,h){this._style.textBaseline="top",this.context=h,n(a)?(this._text=a.text,this._x=a.x,this._y=a.y,this._font=this._parseFont(a.font||"10px sans-serif"),a.baseline!==b&&(this._style.textBaseline=a.baseline),a.align!==b&&(this._style.textAlign=a.align),this._genFont(),this._width=a.width,this._parseHash(a)):(this._text=a,o(e)||(g=f,f=e,e=d,d=c,c="10px sans-serif"),this._font=this._parseFont(c),this._genFont(),this._x=d,this._y=e,this._processStyle(f,g,h.context))},text:function(a){return this._property("text",a)},x:function(a){return this._property("x",a)},y:function(a){return this._property("y",a)},font:function(a){return a===!0?this._style.font:a===b?this._font:(k(this._font,this._parseFont(a)),this._genFont())},_setFont:function(a,c){return c===b?this._font[a]:(this._font[a]=c,this._genFont())},_genFont:function(){var a="",b=this._font;return b.italic&&(a+="italic "),b.bold&&(a+="bold "),this._setstyle("font",a+(b.size||10)+"px "+(b.family||"sans-serif"))},_parseFont:function(a){if(n(a))return a.size=C.distance(a.size),a;var b={family:""};return a.split(" ").forEach(function(a){"bold"===a?b.bold=!0:"italic"===a?b.italic=!0:/^\d+(px|pt)?/.test(a)?b.size=C.distance(a):b.family+=" "+a}),""===(b.family=b.family.replace(/^\s*/,"").replace(/\s*$/,""))&&delete b.family,b},family:function(a){return this._setFont("family",a)},size:function(a){return this._setFont("size",a===b?b:C.distance(a))},bold:function(a){return this._setFont("bold",a===b?b:!!a)||!1},italic:function(a){return this._setFont("italic",a===b?b:!!a)||!1},align:function(a){return this._setstyle("textAlign",a)},baseline:function(a){return this._setstyle("textBaseline",a)},underline:function(a){return a===b?!!this._underline:this._property("underline",!!a)},width:function(a){if(a===b&&this._width===b){var c=this.context.context;this._applyStyle();var d=c.measureText(this._text).width;return c.restore(),d}return this._property("width",a)},isPointIn:function(a,b){var c=this.bounds();return a>c.x&&b>c.y&&a<c.x+c.w&&b<c.y+c.h},bounds:function(){var a=this._style.textAlign||"left",b=this._style.textBaseline||"top",c=this.width(),d=1.15*parseInt(this._font.size),e=this._x,f=this._y;return"center"===a?e-=c/2:"right"===a&&(e-=c),"middle"===b?f-=d/2:"bottom"===b||"ideographic"===b?f-=d:"alphabetic"===b&&(f-=.8*d),new i(e,f,c,d)},draw:function(a){if(this._visible){this._applyStyle();var b=[this._text,this._x,this._y];if(this._width&&b.push(this.width()),this._style.fillStyle&&a.fillText.apply(a,b),this._style.strokeStyle&&a.strokeText.apply(a,b),this._underline){var c=this.bounds(),d=Math.round(this._font.size/5);a.beginPath(),a.moveTo(c.x,c.y+c.h-d),a.lineTo(c.x+c.w,c.y+c.h-d),a.strokeStyle=this._style.strokeStyle||this._style.fillStyle,a.lineWidth=Math.round(this._font.size/15),a.stroke()}a.restore()}}}),A.TextBlock=x=new j(q,{initialize:function(a,c,d,e,f,g,h,i){this.context=i,n(a)?(this._text=a.text,this._x=a.x,this._y=a.y,this._font=this._parseFont(a.font),a.align&&(this._style.textAlign=a.align),this._genFont(),this._width=a.width===b?"auto":a.width,a.limit!==b&&(this._limit=a.limit),this._parseHash(a)):(this._text=a,o(f)||(o(c)&&(h=g,g=f,f=e,e=d,d=c,c="10px sans-serif"),o(f)||(h=g,g=f,f="auto")),this._font=this._parseFont(c),this._genFont(),this._x=d,this._y=e,this._width=f,this._processStyle(g,h,i.context)),this._genLines()},text:function(a){return a===b?this._text:(this._text=a,this._genLines(),this.update())},x:w.prototype.x,y:w.prototype.y,font:w.prototype.font,_setFont:w.prototype._setFont,_genFont:function(){var a="",b=this._font;return b.italic&&(a+="italic "),b.bold&&(a+="bold "),this._style.font=a+(b.size||10)+"px "+(b.family||"sans-serif"),this._genLines().update()},_parseFont:w.prototype._parseFont,family:w.prototype.family,size:w.prototype.size,bold:w.prototype.bold,italic:w.prototype.italic,align:function(a){if(a===b)return this._style.textAlign;this._style.textAlign=a;var c=this.width();return this._lines.forEach({left:function(a){a.x=0},center:function(a){a.x=c/2},right:function(a){a.x=c}}[a]),this.update()},width:function(a){if(a=this._property("width",a),"auto"===a){a=0;var b=this.context.context;return this._applyStyle(),this._lines.forEach(function(c){a=Math.max(b.measureText(c.text).width,a)}),b.restore(),a}return a===this&&this._genLines().update(),a},height:function(){return(this._lineHeight||this._font.size)*this._lines.length},_genLines:function(){var a=this._text,b=this._lines=[],c=this._lineHeight||this._font.size||10,d=this.context.context,e="auto"===this._width?1/0:this._width,f=1,g=this._style.textAlign,h="center"===g?e/2:"right"===e?e:0;return this._applyStyle(),a.split("\n").forEach(function(a){if(d.measureText(a).width>e){var g,i,j,k=a.split(" "),l="";for(i=0,j=k.length;j>i;i++)g=l+k[i]+" ",d.measureText(g).width>e?(b.push({text:l,x:h,y:c*f,count:f++}),l=k[i]+" "):l=g;b.push({text:l,x:h,y:c*f,count:f++})}else b.push({text:a,x:h,y:c*f,count:f++})}),d.restore(),this},lineHeight:function(a){return a===b?this._lineHeight===b?this._font.size:this._lineHeight:(a===!1&&(a=this._font.size),this._lineHeight=a,this._lines.forEach(function(b){b.y=a*b.count}),this.update())},limit:function(a){return this._property("value",a)},isPointIn:w.prototype.isPointIn,bounds:function(){return new i(this._x,this._y,this.width(),this.height())},draw:function(a){var b,c,d,e=this._style.fillStyle?a.fillText.bind(a):B,f=this._style.strokeStyle?a.strokeText.bind(a):B,g=this._x,h=this._y;if(this._visible){for(this._applyStyle(),b=0,c=Math.min(this._lines.length,this._limit);c>b;b++)d=this._lines[b],e(d.text,g+d.x,h+d.y),f(d.text,g+d.x,h+d.y);a.restore()}},_limit:1/0,_lineHeight:null}),A.Gradient=y=new j({initialize:function(a,c,d,e,f){n(a)?(this._type=a.type||"linear",this._colors=m(a.colors)?this._parseColors(a.colors):a.colors,this._from=a.from||[],this._to=a.to||[],a.center&&(this._to[0]=a.center[0],this._to[1]=a.center[1]),a.hilite?(this._from[0]=this._to[0]+a.hilite[0],this._from[1]=this._to[1]+a.hilite[1]):a.from||(this._from[0]=this._to[0],this._from[1]=this._to[1]),o(a.radius)?this._to[2]=C.distance(a.radius):m(a.radius)&&(this._to[2]=Math.round(Math.sqrt(Math.pow(this._to[0]-a.radius[0],2)+Math.pow(this._to[1]-a.radius[1],2)))),o(a.startRadius)?this._from[2]=C.distance(a.startRadius):m(a.startRadius)&&(this._from[2]=Math.round(Math.sqrt(Math.pow(this._to[0]-a.startRadius[0],2)+Math.pow(this._to[1]-a.startRadius[1],2))))):(e===b&&(e=d,d=c,c=a,a="linear"),this._type=a||"linear",this._colors=m(c)?this._parseColors(c):c,this._from=d,this._to=e),this.context=f},_parseColors:function(a){var b={},c=1/(a.length-1);return a.forEach(function(a,d){b[c*d]=a}),b},colorMix:function(a){for(var b,c=this._colors,d=Object.keys(c).sort(),e=0,f=d.length;f>e;e++){if(d[e]==a)return C.color(c[d[e]]);if(parseFloat(b)<a&&parseFloat(d[e])>a)return C.interpolate(C.color(c[b]),C.color(c[d[e]]),(a-parseFloat(b))/(parseFloat(d[e])-parseFloat(b)));b=d[e]}},color:function(a,c){return c===b?this._colors[a]:(this._colors[a]=c,this.update())},colors:function(a){return a===b?this._colors:(this._colors=a,this.update())},from:function(a,c,d){return l(a)&&a in C.corners?(this._from=a,this.update()):(m(a)&&(d=a[2],c=a[1],a=a[0]),m(this._from)||(this._from=[]),a!==b&&(this._from[0]=a),c!==b&&(this._from[1]=c),d!==b&&(this._from[2]=d),this.update())},to:function(a,c,d){return l(a)&&a in C.corners?(this._from=a,this.update()):(m(a)&&(d=a[2],c=a[1],a=a[0]),m(this._from)||(this._from=[]),a!==b&&(this._to[0]=a),c!==b&&(this._to[1]=c),d!==b&&(this._to[2]=d),this.update())
},radius:function(a,c){if(a===b)return this._to[2];if(c!==b&&(a=[a,c]),o(a))this._to[2]=C.distance(a);else{var d=this._to[0]-a[0],e=this._to[1]-a[1];this._to[2]=Math.round(Math.sqrt(d*d+e*e))}return this.update()},startRadius:function(a,c){if(a===b)return this._from[2];if(c!==b&&(a=[a,c]),o(a))this._from[2]=C.distance(a);else{var d=this._to[0]-a[0],e=this._to[1]-a[1];this._from[2]=Math.round(Math.sqrt(d*d+e*e))}return this.update()},center:function(a,c){return a===b?this._to.slice(0,2):(c===b&&(c=a[1],a=a[0]),this._to[0]=a,this._to[1]=c,this.update())},hilite:function(a,c){return a===b?[this._from[0]-this._to[0],this._from[1]-this._to[1]]:(c===b&&(c=a[1],a=a[0]),this._from[0]=this._to[0]+a,this._from[1]=this._to[1]+c,this.update())},update:function(){return this.context.update(),this},_cache:!0,toCanvasStyle:function(a,b){var c,d=this._from,e=this._to;l(d)&&(/^\d+(px|pt)?/.test(d)?this._from=d=C.distance(d):d=b.corner(d)),l(e)&&(/^\d+(px|pt)?/.test(e)?this._to=e=C.distance(e):e=b.corner(e));var f=this.key(d,e);if(this._cache&&this.context._cache[f])return this.context._cache[f];c="linear"===this._type?a.createLinearGradient(d[0],d[1],e[0],e[1]):a.createRadialGradient(d[0],d[1],d[2]||0,e[0],e[1],e[2]||b.bounds().height);for(var g in this._colors)Object.prototype.hasOwnProperty.call(this._colors,g)&&c.addColorStop(g,this._colors[g]);return this.context._cache[f]=c,c},key:function(a,b){return[this._type,a,b,JSON.stringify(this._colors)].join(",")}}),A.Pattern=z=new j({initialize:function(a,b,c){this._repeat=!!b===b?b?"repeat":"no-repeat":l(b)?"repeat-"+b:"repeat",a instanceof Image?this._image=a:l(a)&&("#"===a[0]?this._image=document.getElementById(a.substr(1)):(this._image=new Image,this._image.src=a)),this._image.onload=this.update.bind(this),this.context=c},repeat:function(a){return a===b?{repeat:!0,"no-repeat":!1,"repeat-x":"x","repeat-y":"y"}[this._repeat]:(this._repeat=!!a===a?a?"repeat":"no-repeat":l(a)?"repeat-"+a:"repeat",this.update())},update:y.prototype.update,toCanvasStyle:function(a){return a.createPattern(this._image,this._repeat)}}),A.easing={linear:function(a){return a},half:function(a){return Math.sqrt(a)},pow:function(a,b){return Math.pow(a,b||6)},expo:function(a,b){return Math.pow(b||2,8*(a-1))},circ:function(a){return 1-Math.sin(Math.acos(a))},sine:function(a){return 1-Math.cos(a*Math.PI/2)},back:function(a,b){return b=b||1.618,Math.pow(a,2)*((b+1)*a-b)},bounce:function(a){for(var b=0,c=1;1;b+=c,c/=2)if(a>=(7-4*b)/11)return c*c-Math.pow((11-6*b-11*a)/4,2)},elastic:function(a,b){return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(b||1)/3)}},["quad","cubic","quart","quint"].forEach(function(a,b){A.easing[a]=function(a){return Math.pow(a,b+2)}});for(var N in A.easing)Object.prototype.hasOwnProperty.call(A.easing,N)&&h(A.easing[N]);A.Class=j,C.has=Function.prototype.call.bind(Object.prototype.hasOwnProperty),C.Bounds=i,C.extend=k,C.isString=l,C.isArray=m,C.isHash=n,C.isNumber=o,C.dashes={shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},C.reg={},C.corners={left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],center:[.5,.5],"left top":[0,0],"top left":[0,0],"left bottom":[0,1],"bottom left":[0,1],"right top":[1,0],"top right":[1,0],"right bottom":[1,1],"bottom right":[1,1],lt:[0,0],tl:[0,0],lb:[0,1],bl:[0,1],rt:[1,0],tr:[1,0],rb:[1,1],br:[1,1]},C.pathStrFunctions={M:"moveTo",L:"lineTo",B:"bezierCurveTo",Q:"quadraticCurveTo",R:"rect",A:"arc"},C.colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C.move=function(a,b){b>a&&b++;var c=this.slice(0,b),d=this.slice(b),e=c.concat([this[a]]).concat(d);return a>b&&a++,c=e.slice(0,a),d=e.slice(a+1),c.concat(d)},C.multiply=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]},C.interpolate=function(a,b,c){return a+(b-a)*c},C.transformPoint=function(a,b,c){return[a*c[0]+b*c[2]+c[4],a*c[1]+b*c[3]+c[5]]},C.coordsOfElement=function(b){var c=b.getBoundingClientRect(),d=a.getComputedStyle(b);return{x:c.left+parseInt(d.borderLeftWidth)+parseInt(d.paddingLeft),y:c.top+parseInt(d.borderTopWidth)+parseInt(d.paddingTop)}},C.color=function(a){if(a!==b){var c;return a in C.colors?C.color("#"+C.colors[a]):(c=a.match(/^rgba?\((\d{1,3})\,\s*(\d{1,3})\,\s*(\d{1,3})(\,\s*([0-9\.]{1,4}))?\)/))?[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),parseFloat(c[5]||1)]:(c=a.match(/^rgba?\((\d{1,3})\%?\,\s*(\d{1,3})\%?\,\s*(\d{1,3})\%?(\,\s*([0-9\.]{1,4}))?\)/))?[Math.round(2.55*parseInt(c[1])),Math.round(2.55*parseInt(c[2])),Math.round(2.55*parseInt(c[3])),parseFloat(c[5]||1)]:(c=a.match(/^\#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),1]:(c=a.match(/^\#([0-9a-f])([0-9a-f])([0-9a-f])/i))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16),1]:"rand"===a?[Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random()),Number(Math.random().toFixed(2))]:[0,0,0,0]}},C.distanceUnits="pt em in cm mm pc ex ch rem v wvh vmin vmax".split(" "),C.distance=function(a){if(a!==b){if(!a)return 0;if("[object Number]"==D.call(a))return a;if((a+"").indexOf("px")==(a+"").length-2)return parseInt((a+"").replace(/[^\d]*/,""));if(!C.units){var c=document.createElement("div");document.body.appendChild(c),C.units={},C.distanceUnits.forEach(function(a){c.style.width="1"+a,C.units[a]=parseFloat(getComputedStyle(c).width)}),document.body.removeChild(c)}var d=a.replace(/[\d\.]+?/gi,"");return a=a.replace(/[^\d\.]+?/gi,""),C.units[d]*a|0}},C.animTransformConstants={rotate:0,scale:1,scaleX:1,scaleY:1,skew:0,skewX:0,skewY:0,translate:0,translateX:0,translateY:0},C.pathFunctions={moveTo:{name:"moveTo",params:["x","y"]},lineTo:{name:"lineTo",params:["x","y"]},quadraticCurveTo:{name:"quadraticCurveTo",params:["hx","hy","x","y"]},bezierCurveTo:{name:"bezierCurveTo",params:["h1x","h1y","h2x","h2y","x","y"]},closePath:{name:"closePath",params:[]}};var O={arguments:function(a){if(a===b)return this._arguments;arguments.length>1&&(a=Array.prototype.slice.call(arguments)),this._arguments=a;for(var c=0;c<this.base.params.length;c++)this[this.base.params[c]]=a[c];return this.update(),this},set:function(a,b){var c=this.base.params.indexOf(a);return this._arguments[c]=b,this[a]=b,this.update(),this},process:function(a){a[this.name].apply(a,this._arguments)}};for(var P in C.pathFunctions)if(Object.prototype.hasOwnProperty.call(C.pathFunctions,P)){var Q=C.pathFunctions[P];C.pathFunctions[P]=function(a,b,c){this.name=this.base.name,this._arguments=a,this.update=c.update.bind(c);for(var d=0;d<this.base.params.length;d++)this[this.base.params[d]]=a[d]},C.pathFunctions[P].prototype=k({base:Q},O)}C.svgFunctions={M:"moveTo",L:"lineTo",C:"bezierCurveTo",Q:"quadraticCurveTo",Z:"closePath",m:"moveTo",l:"lineTo",c:"bezierCurveTo",q:"quadraticCurveTo",z:"closePath"},C.svgPathLengths={M:2,L:2,C:6,Q:4,Z:0,m:2,l:2,c:6,q:4,z:0},C.transformFunctions={scale:function(a,c){return m(a)&&(c=a[1],a=a[0]),c===b&&(c=a),[a,0,0,c,0,0]},rotate:function(a,b){return"rad"!==b&&(a=a*Math.PI/180),[Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]},skew:function(a,c){return m(a)&&(c=a[1],a=a[0]),c===b&&(c=a),[1,Math.tan(c*Math.PI/180),Math.tan(a*Math.PI/180),1,0,0]},translate:function(a,c){return m(a)&&(c=a[1],a=a[0]),c===b&&(c=a),[1,0,0,1,a,c]}},A.version=Math.PI/3.490658503988659,A.query=function(a,b,c){return new p(l(a)?(c||document).querySelectorAll(a)[b||0]:a.canvas||a)},A.id=function(a){return new p(document.getElementById(a))},A.util=C,a.Graphics2D=A}(this);
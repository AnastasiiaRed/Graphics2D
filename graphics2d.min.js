!function(r,h){var e,a,i,t,n,o,c,u,l,s,f={},d=r.document,p=Object.prototype.toString,m=Array.prototype.slice,g=Function.prototype.call.bind(Object.prototype.hasOwnProperty),v=/^\d*\.\d+$/,b=/^(\d+|(\d+)?\.\d+)(em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|px|pt|pc)?$/,y=r.URL||r.webkitURL||r,x={mouse:["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","mousewheel","blur","focus"],touch:["touchstart","touchmove","touchend","touchcancel"],pointer:["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"],keyboard:["keypress","keydown","keyup"]},w=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(t){return r.setTimeout(t,1e3/60)};r.cancelAnimationFrame||r.webkitCancelAnimationFrame||r.mozCancelAnimationFrame||r.oCancelAnimationFrame||r.msCancelAnimationFrame||r.cancelRequestAnimationFrame||r.webkitCancelRequestAnimationFrame||r.mozCancelRequestAnimationFrame||r.oCancelRequestAnimationFrame||r.msCancelRequestAnimationFrame||r.clearTimeout;function k(t){return t.constructor===String}function O(t){return t.constructor===Object}function A(t){return Array.isArray(t)}function C(t,e,s,r){s<0&&(t-=s=-s),r<0&&(e-=r=-r),this.x=this.x1=t,this.y=this.y1=e,this.w=this.width=s,this.h=this.height=r,this.x2=t+s,this.y2=e+r,this.cx=t+s/2,this.cy=e+r/2}function O(t){return"[object Object]"===p.call(t)}function M(t){return+t===t||t+""===t&&b.test(t)}f.renderers={},f.xtypes={gradient:f.Gradient},f.bounds=function(t,e,s,r){return new C(t,e,s,r)},f.Class=S,f.Bounds=C,f.argument=function(e){return function(t){return this.argument(e,t)}},f.wrap=function(t,e){var s=t[e];return t=m.call(t,e+1),function(){this[s].apply(this,t)}},f.isObject=O,f.isNumberLike=M,f.isPatternLike=function(t){return t instanceof Image||O(t)&&g(t,"image")||t+""===t&&!(t.indexOf("http://")&&t.indexOf("https://")&&t.indexOf("./")&&t.indexOf("../")&&t.indexOf("data:image/")&&t.indexOf("<svg"))},f.dashes={shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},f.fileTypes={jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",webp:"image/webp"},f.corners={left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],center:[.5,.5],"left top":[0,0],"top left":[0,0],"left bottom":[0,1],"bottom left":[0,1],"right top":[1,0],"top right":[1,0],"right bottom":[1,1],"bottom right":[1,1],lt:[0,0],tl:[0,0],lb:[0,1],bl:[0,1],rt:[1,0],tr:[1,0],rb:[1,1],br:[1,1]},f.colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",chucknorris:"c00000",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},f.coordsOfElement=function(t){var e=t.getBoundingClientRect(),s=r.getComputedStyle(t);return{x:e.left+parseInt(s.borderLeftWidth||0)+parseInt(s.paddingLeft||0),y:e.top+parseInt(s.borderTopWidth||0)+parseInt(s.paddingTop||0)}},f.clone=function(t){var e=new t.constructor;for(var s in t)g(t,s)&&("object"!=typeof t[s]||t[s]instanceof P||t[s]instanceof Image?e[s]=t[s]:e[s]=f.clone(t[s]));return e},f.strParse={functions:function(t){var e=[];return(t=t.split(")")).forEach(function(t){""!==(t=t.trim())&&e.push({args:t.split("(")[1].split(",").map(function(t){return t.trim()}),method:t.match(/[a-z]+/)[0]})}),e},partition:function(t,e){for(var s=[],r="",i=0;i<t.length;i++)-1===e.indexOf(t[i])?r+=t[i]:(""!==r&&(s.push(r),r=""),s.push(t[i]));return""!==r&&s.push(r),s}},f.parseTransform=function(e,r){if(Array.isArray(e.transform))return e.transform;var i=[1,0,0,1,0,0];"attributes"===e.transform?(e.transformOrder||"translate rotate scale skew").split(" ").forEach(function(t){e[t]!==h&&(i=f.transforms[t](i,e[t],r))}):e.transform.split(")").forEach(function(t){if(""!==(t=t.trim())){var e=t.match(/[a-z]+/),s=t.split("(")[1].split(",").map(function(t){return t.trim()});i=f.transforms[e](i,s,r)}});return i},f.transforms={translate:function(t,e){return t[4]+=+e[0],t[5]+=+e[1],t},scale:function(t,e,s){+e===e?e=[e,e]:+e[1]!==e[1]&&(e=[e[0],e[0],e[1]]);var r=s.corner(e[2]||"center");return t=f.transform(t,[1,0,0,1,r[0],r[1]]),t=f.transform(t,[e[0],0,0,e[1],0,0]),t=f.transform(t,[1,0,0,1,-r[0],-r[1]])},skew:function(t,e,s){+e===e?e=[e,e]:+e[1]!==e[1]&&(e=[e[0],e[0],e[1]]),e[0]=+e[0]/180*Math.PI,e[1]=+e[1]/180*Math.PI;var r=s.corner(e[2]||"center");return t=f.transform(t,[1,0,0,1,r[0],r[1]]),t=f.transform(t,[1,Math.tan(e[1]),Math.tan(e[0]),1,0,0]),t=f.transform(t,[1,0,0,1,-r[0],-r[1]])},rotate:function(t,e,s){+e===e&&(e=[e]),e[0]=+e[0]/180*Math.PI;var r=s.corner(e[1]||"center");return t=f.transform(t,[1,0,0,1,r[0],r[1]]),t=f.transform(t,[Math.cos(e[0]),Math.sin(e[0]),-Math.sin(e[0]),Math.cos(e[0]),0,0]),t=f.transform(t,[1,0,0,1,-r[0],-r[1]])}},f.isIdentityTransform=function(t){return 0===t[5]&&0===t[4]&&1===t[3]&&0===t[2]&&0===t[1]&&1===t[0]},f.transform=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},f.transformPoint=function(t,e){return[t[0]*e[0]+t[2]*e[1]+t[4],t[1]*e[0]+t[3]*e[1]+t[5]]},f.inverseTransform=function(t){var e=t[0]*t[3]-t[2]*t[1];return 0===e?null:[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,-(t[3]*t[4]-t[2]*t[5])/e,(t[1]*t[4]-t[0]*t[5])/e]},f.color=function(t){if(t!==h){if(Array.isArray(t))return t.slice(0,4);if(t+""!==t)throw"Not a color: "+t.toString();if(0!==t.indexOf("rgb"))return"#"===t[0]?(3===(t=t.substring(1)).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16),1]):t in f.colors?f.color("#"+f.colors[t]):"rand"===t?[Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random()),1]:[0,0,0,0];var e=(t=t.substring(t.indexOf("(")+1,t.length-1).replace(/\s/g,"").split(","))[3];return t=t.slice(0,3).map(function(t,e){return 0<t.indexOf("%")?Math.round(2.55*parseInt(t)):parseInt(t)}),e===h&&(e=1),t.push(Number(e)),t}},f.angleUnit="grad",f.unit="px";var P,E="pt em in cm mm pc ex ch rem v wvh vmin vmax".split(" "),T={px:1,ch:8,cm:37.78125,em:16,ex:7.15625,in:96,mm:3.765625,pc:16,pt:1.328125,rem:16,v:16,vmax:13.65625,vmin:4.78125,wvh:16};function S(i,t){t||(t=i,i=null);var e=function(){return this.initialize&&this.initialize.apply(this,arguments)};if(i){var s=function(){};s.prototype=i.prototype,(e.prototype=new s).superclass=i.prototype,(e.prototype.constructor=e).prototype.super=function(t,e){if(!this.superclass.superclass||!this.superclass.superclass[t])return this.superclass[t].apply(this,e);var s=this.superclass;this.superclass=this.superclass.superclass;var r=s[t].apply(this,e);return this.superclass=i.prototype,r}}return t.mixins&&t.mixins.forEach(function(t){Object.assign(e.prototype,S.mixins[t])}),Object.assign(e.prototype,t),e}function j(t){this.attrs.matrix="dirty",this.update()}f.snapToPixels=1,f.lastDistanceObject=null,f.distance=function(t,e){if(t!==h){if(!t)return 0;if(f.snapToPixels&&!e)return Math.round(f.distance(t,!0)/f.snapToPixels)*f.snapToPixels;if(t.constructor===Number)return"px"!==f.unit?f.distance(t+""+f.unit):t;if((t+="").indexOf("px")===t.length-2)return parseInt(t);if(t.constructor!==String)return f.lastDistanceObject=t;var s=t.replace(/[\d\.]+?/g,"");if(t=t.replace(/[^\d\.]+?/g,""),""===s)return t;if(!f.units)if(d){var r=d.createElement("div");d.body.appendChild(r),f.units={},E.forEach(function(t){r.style.width="1"+t,f.units[t]=parseFloat(getComputedStyle(r).width)}),d.body.removeChild(r)}else f.units=T;return 1===f.snapToPixels?Math.round(f.units[s]*t):f.units[s]*t}},S.mixins={AttrMixin:{attrs:{},attrHooks:{},attr:function(e,t){return e.constructor===Array?e.map(function(t){return this.attr(t)},this):e.constructor!==String?(Object.keys(e).forEach(function(t){this.attr(t,e[t])},this),this):t===h?this.attrHooks[e]&&this.attrHooks[e].get?this.attrHooks[e].get.call(this):this.attrs[e]:(this.attrs[e]=t,this.attrHooks[e]&&this.attrHooks[e].set&&this.attrHooks[e].set.call(this,t),this)},processArguments:function(s,t){if(s[0].constructor===Object)this.attr(s[0]);else{var r={};t.forEach(function(t,e){s[e]!==h&&(r[t]=s[e])},this),this.attr(r)}}},TransformableMixin:{attrHooks:{transform:{set:function(t){this.attrs.matrix=null===t?null:"dirty",this.update()}},transformOrder:{set:j},pivot:{set:j},translate:{get:function(){return this.attrs.translate||[0,0]},set:j},rotate:{get:function(){return this.attrs.rotate||0},set:j},scale:{get:function(){return this.attrs.scale||[1,1]},set:j},skew:{get:function(){return this.attrs.skew||[0,0]},set:j}},calcMatrix:function(){var s,t=this.attrs.transform;return t.constructor===Array?s=new Float32Array(t):"attributes"===t?(s=new Float32Array([1,0,0,1,0,0]),(this.attrs.transformOrder||f.transformOrder).split(" ").forEach(function(t){var e=this.attrs[t];e&&this.transformFunctions[t].call(this,s,e.constructor===Array?e:[e])},this)):(s=new Float32Array([1,0,0,1,0,0]),f.strParse.functions(t).forEach(function(t){this.transformFunctions[t.method].call(this,s,t.args)},this)),this.attrs.matrix=s},transformFunctions:{pivot:function(t){return t&&-1<t.indexOf(";")?(t=t.split(";"),[Number(t[0].trim()),Number(t[1].trim())]):this.corner(t||this.attrs.pivot,{transform:"none"})},translate:function(t,e){var s=Number(e[0]),r=Number(e[1]);e[2]?(t[4]+=s,t[5]+=r):(t[4]=t[0]*s+t[2]*r+t[4],t[5]=t[1]*s+t[3]*r+t[5])},matrix:function(t,e){var s=t[0],r=t[1],i=t[2],n=t[3],a=t[4],o=t[5];t[0]=s*e[0]+i*e[1],t[1]=r*e[0]+n*e[1],t[2]=s*e[2]+i*e[3],t[3]=r*e[2]+n*e[3],t[4]=s*e[4]+i*e[5]+a,t[5]=r*e[4]+n*e[5]+o},lmatrix:function(t,e){this.transformFunctions.matrix.call(this,e,t)},rotate:function(t,e){var s=this.transformFunctions.pivot.call(this,e[1]),r=Number(e[0])*Math.PI/180,i=Math.cos(r),n=Math.sin(r);this.transformFunctions.matrix.call(this,t,[i,n,-n,i,-s[0]*i+s[1]*n+s[0],-s[0]*n-s[1]*i+s[1]])},scale:function(t,e){isNaN(e[1])&&(e[2]=e[1],e[1]=e[0]);var s=Number(e[0]),r=Number(e[1]),i=this.transformFunctions.pivot.call(this,e[2]);this.transformFunctions.matrix.call(this,t,[s,0,0,r,-i[0]*s+i[0],-i[1]*r+i[1]])},skew:function(t,e){isNaN(e[1])&&(e[2]=e[1],e[1]=e[0]);var s=Math.tan(Number(e[0])*Math.PI/180),r=Math.tan(Number(e[1])*Math.PI/180),i=this.transformFunctions.pivot.call(this,e[2]);this.transformFunctions.matrix.call(this,t,[1,r,s,1,-i[1]*s,-i[0]*r])}}},EventMixin:{listeners:{},eventHooks:{},on:function(e,t,s){return e.constructor!==String?Object.keys(e).forEach(function(t){this.on(t,e[t])},this):(t&&(t.constructor===Function?(s=t,t=null):t.constructor===String&&Array.prototype.splice.call(arguments,1,0,null)),s.constructor===String&&(i=(r=arguments)[2],s=function(){return this[i].apply(this,Array.prototype.slice.call(r,3))}),this.listeners[e]||(this.listeners[e]=[],this.eventHooks[e]&&this.eventHooks[e].init&&this.eventHooks[e].init.call(this,e)),this.listeners[e].push({callback:s,options:t})),this;var r,i},off:function(t,e){var s=this.listeners[t],r=this.eventHooks[t];if(s)if(e){for(var i=0;i<s.length;i++)if(s[i].callback===e){s.splice(i,1);break}r&&!s.length&&r.teardown&&(this.listeners[t]=null,r.teardown.call(this,t))}else this.listeners[t]=null,r&&r.teardown&&r.teardown.call(this,t);return this},fire:function(t,e,s){var r=this.listeners[t];return r&&(s&&(r=r.filter(s,this)),r.forEach(function(t){t.callback.call(this,e)},this)),this}},LinkMixin:{links:[],pushLink:function(){},callLinks:function(t){}}},f.transformOrder="translate rotate scale skew",S.attr=function(e,t){if(Array.isArray(e))return e.map(function(t){return this.attr(t)},this);if(e+""!==e)return Object.keys(e).forEach(function(t){this.attr(t,e[t])},this),this;if(1===arguments.length)return this.attrHooks[e]&&this.attrHooks[e].get?this.attrHooks[e].get.call(this):this.attrs[e];if(this.attrHooks[e]&&this.attrHooks[e].set){var s=this.attrHooks[e].set.call(this,t);null!==s&&(this.attrs[e]=s===h?t:s)}else this.attrs[e]=t;return this},(a=new S({initialize:function(t,e,s){if(this.duration=t||a.default.duration,e&&e.constructor===String){var r=e.indexOf("(");-1!==r&&(this.easingParam=e.substring(r+1,e.length-1),e=e.substring(0,r)),this.easing=a.easing[e]}else this.easing=e||a.default.easing;this.callback=s},play:function(t,e){this.prePlay&&this.prePlay(),t&&(this.tick=t),e&&(this.tickContext=e),this.startTime=Date.now(),this.endTime=this.startTime+this.duration,a.queue.length||w(a.do),a.queue.push(this)},pause:function(){this.pauseTime=Date.now(),a.queue.splice(a.queue.indexOf(this),1)},continue:function(){var t=this.pauseTime-this.startTime;this.startTime=Date.now()-t,this.endTime=this.startTime+this.duration,a.queue.length||w(a.do),a.queue.push(this)}})).queue=[],a.do=function(){for(var t,e,s=Date.now(),r=0;r<a.queue.length;r++)(e=(s-(t=a.queue[r]).startTime)/t.duration)<0||(1<e&&(e=1),t.now=s,t.pos=t.easing(e,t.easingParam),t.tick.call(t.tickContext,t),1===e&&(t.callback&&t.callback.call(t.tickContext,t),a.queue.splice(a.queue.indexOf(t),1)));a.queue.length&&w(a.do)},S.mixins.AnimatableMixin={animate:function(e,t,s,r,i){var n;return e.constructor!==String&&(i=r,r=s,s=t,t=null),s&&s.constructor===Object||(s&&s.constructor===Function&&(i=s,s=null),s={duration:s||a.default.duration,easing:r||a.default.easing,callback:i}),e instanceof a?(n=e,Object.assign(n,s)):(n=new a(s.duration,s.easing,s.callback),e.constructor===String?(n.prop=e,n.tick=this.attrHooks[e].anim,n.prePlay=function(){this.attrHooks[e].preAnim.call(this,n,t),this.attrs.animation=n}.bind(this)):(n.prop=Object.keys(e).map(function(t){var e=new a;return e.prop=t,e.tick=this.attrHooks[t].anim,e.tickContext=this,e},this),n.tick=function(e){e.prop.forEach(function(t){t.now=e.now,t.pos=e.pos,this.attrHooks[t.prop].anim.call(this,t)},this)},n.prePlay=function(){n.prop.forEach(function(t){this.attrHooks[t.prop].preAnim.call(this,t,e[t.prop])},this)}.bind(this)),n.tickContext=this),n.elem=this,s.name&&(n.name=s.name),n.play(),this},pause:function(e){return this._paused||(this._paused=[]),a.queue.slice().forEach(function(t){t.elem!==this||t.name!==e&&e||(t.pause(),this._paused.push(t))},this),this},continue:function(s){if(this._paused)return this._paused.slice().forEach(function(t,e){s&&t.name!==s||(t.continue(),this._paused.splice(e,1))},this),this}},a.tick={num:{preAnim:function(t,e){t.startValue=this.attr(t.prop),t.delta=e-t.startValue,e.constructor===String&&(0===e.indexOf("+=")?t.delta=+e.substr(2):0===e.indexOf("-=")&&(t.delta=-e.substr(2)))},anim:function(t){this.attrs[t.prop]=t.startValue+t.delta*t.pos,this.update()}},numAttr:{anim:function(t){this.attr(t.prop,t.startValue+t.delta*t.pos)}}},a.tick.numAttr.preAnim=a.tick.num.preAnim,a.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},sqrt:function(t){return Math.sqrt(t)},pow:function(t,e){return Math.pow(t,e||6)},expo:function(t,e){return Math.pow(e||2,8*t-8)},sigmoid:function(t,e){return e=-(e||5),(1+Math.exp(e/2))/(1+Math.exp(e*(t-.5)))},circ:function(t){return 1-Math.sin(Math.acos(t))},sine:function(t){return 1-Math.cos(t*Math.PI/2)},back:function(t,e){return Math.pow(t,2)*((e||1.618)*(t-1)+t)},bounce:function(t){for(var e=0,s=1;;e+=s,s/=2)if((7-4*e)/11<=t)return s*s-Math.pow((11-6*e-11*t)/4,2)},elastic:function(t,e){return Math.pow(2,10*--t)*Math.cos(20*t*Math.PI*(e||1)/3)},bezier:function(t,e){}},["quad","cubic","quart","quint"].forEach(function(t,e){a.easing[t]=function(t){return Math.pow(t,e+2)}}),Object.keys(a.easing).forEach(function(s){a.easing[s+"In"]=a.easing[s],a.easing[s+"Out"]=function(t,e){return 1-a.easing[s](1-t,e)},a.easing[s+"InOut"]=function(t,e){return.5<=t?a.easing[s](2*t,e)/2:(2-a.easing[s](2*(1-t),e))/2}}),a.default={duration:500,easing:"swing"},f.animation=function(t,e,s){return new a(t,e,s)},(P=function(t){this.canvas=t,this.context=t.getContext("2d"),this.elements=[],this.listeners={},this.attrs={transform:"attributes",pivot:"center"},this.cache={},this.updateNow=this.updateNow.bind(this)}).prototype={object:function(t){return t.constructor===Function&&(t={draw:t}),this.push(Object.assign(new e,t))},rect:function(){return this.push(new i(arguments))},circle:function(){return this.push(new t(arguments))},path:function(){return this.push(new o(arguments))},image:function(){return this.push(new c(arguments))},text:function(){return this.push(new u(arguments))},line:function(t,e,s,r,i){return this.path([[t,e],[s,r]],null,i)},quadratic:function(t,e,s,r,i,n,a){return this.path([[t,e],[s,r,i,n]],null,a)},bezier:function(t,e,s,r,i,n,a,o,h){return this.path([[t,e],[s,r,i,n,a,o]],null,h)},arcTo:function(t,e,s,r,i,n,a){return this.path([[t,e],["arcTo",t,e,s,r,i,n]],null,a)},gradient:function(t,e,s,r){return new l(t,e,s,r,this)},pattern:function(t,e){return new s(t,e,this)},push:function(t){if((t.context=this).elements.push(t),t.draw){var e=this.context;if(e.save(),this.attrs.matrix){var s="dirty"!==this.attrs.matrix?this.attrs.matrix:this.calcMatrix();e.setTransform(s[0],s[1],s[2],s[3],s[4],s[5])}else e.setTransform(1,0,0,1,0,0);t.draw(e),e.restore()}return t.update=t.updateFunction,t},update:function(){this._willUpdate||(this._willUpdate=!0,w(this.updateNow))},updateNow:function(){var e=this.context;if(e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),this.attrs.matrix){var t="dirty"!==this.attrs.matrix?this.attrs.matrix:this.calcMatrix();e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])}this.elements.forEach(function(t){t.draw(e)}),e.restore(),this._willUpdate=!1},getObjectInPoint:function(t,e,s){for(var r=this.elements,i=r.length;i--;)if(r[i].isPointIn&&(r[i].attrs.interaction||!s)&&r[i].isPointIn(t,e,"mouse"))return r[i];return null},each:function(t){if(t+""===t){var e=m.call(arguments,1),s=t;t=function(t){t[s].apply(t,e)}}return this.elements.slice().forEach(t,this),this},contextCoords:function(t,e){var s=f.coordsOfElement(this.canvas);return[t-s.x,e-s.y]},getTransform:function(){if(this.cache.transform)return this.cache.transform;var t=f.parseTransform(this.attrs,this);return this.cache.transform=t},corner:function(t){return[this.canvas.width*f.corners[t][0],this.canvas.height*f.corners[t][1]]}},Object.assign(P.prototype,S.mixins.EventMixin,{hoverElement:null,eventHooks:{}}),f.browserCommonEvent={init:function(t){this.eventHooks[t].canvas&&this.canvas.addEventListener(t,this.listeners["_canvasListener_"+t]=this.eventHooks[t].canvas.bind(this))},teardown:function(t){w(function(){this.listeners[t]||this.canvas.removeEventListener(t,this.listeners["_canvasListener_"+t])}.bind(this))},canvas:function(t){t.cancelContextPropagation=function(){},this.fire(t.type,t)}},f.browserMouseEvent=Object.assign({},f.browserCommonEvent,{canvas:function(t){var e=!0;t.cancelContextPropagation=function(){e=!1};var s=this.contextCoords(t.clientX,t.clientY);t.contextX=s[0],t.contextY=s[1],t.targetObject=this.getObjectInPoint(t.contextX,t.contextY,!0),t.targetObject&&t.targetObject.fire&&t.targetObject.fire(t.type,t),e&&this.fire(t.type,t)}}),f.browserTouchEvent=Object.assign({},f.browserCommonEvent,{canvas:function(e){var t=!0;e.cancelContextPropagation=function(){t=!1},["touches","changedTouches","targetTouches"].forEach(function(t){e[t]&&Array.prototype.forEach.call(e[t],function(t){var e=this.contextCoords(t.clientX,t.clientY);t.contextX=e[0],t.contextY=e[1],t.targetObject=this.getObjectInPoint(t.contextX,t.contextY,!0)},this)},this),Array.prototype.forEach.call(e.touches,function(t){t.targetObject&&t.targetObject.fire&&e.targetObject.fire(e.type,e)},this),t&&this.fire(e.type,e)}});var F,H=r.document?{mouse:f.browserMouseEvent,touch:f.browserTouchEvent,pointer:f.browserCommonEvent,keyboard:f.browserCommonEvent}:{};function I(t,e){return F||(F=d.createElement("canvas")),F.width=t,F.height=e,F}Object.keys(x).forEach(function(t){x[t].forEach(function(e){P.prototype.eventHooks[e]=H[t],P.prototype[e]=function(t){return t.constructor===Function?this.on(e,t):t.constructor===String?this.on.apply(this,[e].concat(m.call(arguments))):this.fire(t)}})}),Object.assign(P.prototype,S.mixins.AttrMixin,S.mixins.TransformableMixin,{attrHooks:Object.assign({},S.mixins.TransformableMixin.attrHooks,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t,this.canvas.style.width=t/(this.attrs.dpi||1)+"px",this.update()}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t,this.canvas.style.height=t/(this.attrs.dpi||1)+"px",this.update()}},dpi:{get:function(){return this.attrs.dpi||1},set:function(t){this.canvas.style.width=this.canvas.width/t+"px",this.canvas.style.height=this.canvas.height/t+"px",this.update()}},smooth:{get:function(t){var e=this.canvas.style.imageRendering;return"pixelated"!==e&&"crisp-edges"!==e},set:function(t){this.canvas.style.imageRendering=t?"initial":"pixelated"}}})}),f.Context=P,f.contexts={"2d":P};var L,R,D="http://www.w3.org/2000/svg";function _(t){Object.assign(this,t)}function q(){this.update()}function e(t){this.listeners={},this.styles={},this.cache={},this.attrs={interaction:!0,visible:!0,transform:"attributes",pivot:"center"},this.argsOrder&&this.processArguments(t,this.argsOrder)}function B(t){Object.assign(this,t)}function z(t){for(var e=new B({}),s=0;s<t.length;s++);return e}function l(t,e,s,r){!k(t)&&e&&(r=s,s=e,e=t,t=l.types.default),this.attrs={},this.updateList=[],this.processArguments([t,e,s,r],this.argsOrder),l.types[this.attrs.type]&&Object.assign(this,l.types[this.attrs.type]),this.initialize&&this.initialize(),this.update=this.updateFunction}e.prototype={initialize:e,updateFunction:function(){return this.context&&this.context.update(),this},update:function(){return this},cloneReducers:{order:"clone",clone:function(t,e,s){var r=new this.constructor([this.attrs]);return!1===s.attrs&&(r.attrs=this.attrs),"no-copy"!==s.events&&(!1===s.events?r.listeners=this.listeners:(r.listeners={},Object.keys(this.listeners).forEach(function(t){r.listeners[t]=this.listeners[t].slice()},this))),s.fills&&this.attrs.fill&&this.attrs.fill.clone&&r.attr("fill",this.attrs.fill.clone(s.fillOptions)),!1!==s.push&&this.context&&this.context.push(r),r}},clone:function(s){return s=Object.assign({clone:!0},s),this.cloneReducers.order.split(" ").reduce(function(t,e){return s[e]===h?t:this.cloneReducers[e].call(this,s[e],t,s)}.bind(this),null)},remove:function(){return this.context.elements.splice(this.context.elements.indexOf(this),1),this.update(),this.context=null,this},isPointInBefore:function(t,e,s){if((s="mouse"===s?this.attrs.interactionProps:s)&&!1!==s.transform){var r=this.getTransform();if(!f.isIdentityTransform(r)){var i=f.inverseTransform(r);return f.transformPoint(i,[t,e])}}return[t,e,s]},boundsReducers:{order:"accuracy transform stroke tight",accuracy:function(t,e,s){return"precise"===t?(this.preciseBounds||this.roughBounds).call(this,s):"rough"===t?(this.roughBounds||this.preciseBounds).call(this,s):void 0},stroke:function(t,e){var s=this.styles.lineWidth;return s&&"ignore"!==t&&(s/=2,"-"===t&&(s=-s),e.lt[0]-=s,e.lt[1]-=s,e.lb[0]-=s,e.rt[1]-=s,e.lb[1]+=s,e.rt[0]+=s,e.rb[0]+=s,e.rb[1]+=s),e},transform:function(t,e){var s,r=this.context&&this.context.attrs.matrix,i=this.attrs.matrix;return"full"===t&&r&&i?("dirty"===r&&(r=this.context.calcMatrix()),"dirty"===i&&(i=this.calcMatrix()),s=f.transform(r,i)):"context"!==t&&"full"!==t||!r?"self"!==t&&"full"!==t||!i||(s="dirty"===i?this.calcMatrix():i):s="dirty"===r?this.context.calcMatrix():r,"none"!==t&&s?{lt:f.transformPoint(s,[e.x1,e.y1]),lb:f.transformPoint(s,[e.x1,e.y2]),rt:f.transformPoint(s,[e.x2,e.y1]),rb:f.transformPoint(s,[e.x2,e.y2])}:{lt:[e.x1,e.y1],lb:[e.x1,e.y2],rt:[e.x2,e.y1],rb:[e.x2,e.y2]}},tight:function(t,e){if(t)return e;var s=Math.min(e.lt[0],e.lb[0],e.rt[0],e.rb[0]),r=Math.min(e.lt[1],e.lb[1],e.rt[1],e.rb[1]);return new C(s,r,Math.max(e.lt[0],e.lb[0],e.rt[0],e.rb[0])-s,Math.max(e.lt[1],e.lb[1],e.rt[1],e.rb[1])-r)}},bounds:function(s){return s=Object.assign({accuracy:"precise",transform:"full",stroke:"ignore",tight:!1},s),this.boundsReducers.order.split(" ").reduce(function(t,e){return s[e]===h?t:this.boundsReducers[e].call(this,s[e],t,s)}.bind(this),null)},corner:function(t,e){return[(e=e instanceof C?e:this.bounds(e)).x+e.w*f.corners[t][0],e.y+e.h*f.corners[t][1]]},preDraw:function(e){if(e.save(),Object.keys(this.styles).forEach(function(t){e[t]=this.styles[t]},this),this.attrs.matrix){var t="dirty"!==this.attrs.matrix?this.attrs.matrix:this.calcMatrix();e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}this.attrs.fill&&this.attrs.fill.toCanvasStyle&&(e.fillStyle=this.attrs.fill.toCanvasStyle(e,this))},postDraw:function(t){this.styles;this.attrs.fill&&t.fill(this.attrs.fillRule),this.attrs.stroke&&t.stroke(),t.restore()},toDataURL:function(t,e){if(e===h){if("function"!=typeof this.bounds)throw"Object #"+this.attr("z")+" can't be rasterized: need the bounds.";e=this.bounds()}t===h?t="image/png":t in f.fileTypes&&(t=f.fileTypes[t]);var s=I(e.width,e.height),r=s.getContext("2d");return r.setTransform(1,0,0,1,-e.x,-e.y),this.draw(r),s.toDataURL(t.type||t,t.quality||1)},toBlob:function(t,e,s,r){},toImageData:function(t){if(t===h){if("function"!=typeof this.bounds)throw"Object #"+this.z()+" can't be rasterized: need the bounds.";t=this.bounds()}var e=I(t.width,t.height).getContext("2d");return e.setTransform(1,0,0,1,-t.x,-t.y),this.draw(e),e.getImageData(0,0,t.width,t.height)}},e.AttrHooks=_,e.processStroke=function(t,e){if(t+""===t){for(var s,r=(t=t.replace(/\s*\,\s*/g,",").split(" ")).length,i=!1,n=!1;r--;)v.test(t[r])?s=parseFloat(t[r]):M(t[r])?e.lineWidth=f.distance(t[r]):"round"===t[r]?(i||(e.lineJoin="round"),n||(e.lineCap=e.lineCap||"round")):"miter"===t[r]||"bevel"===t[r]?(i=!0,e.lineJoin=t[r]):"butt"===t[r]||"square"===t[r]?(n=!0,e.lineCap=t[r]):"["===t[r][0]?e.lineDash=t[r].substr(1,t[r].length-2).split(","):t[r]in f.dashes?e.lineDash=f.dashes[t[r]]:t[r].lastIndexOf("ml")===t[r].length-2?e.miterLimit=+t[r].slice(0,t[r].length-2):0===t[r].indexOf("do")?e.lineDashOffset=f.distance(t[r].slice(2)):e.strokeStyle=t[r];s&&((t=f.color(e.strokeStyle))[3]=s,e.strokeStyle="rgba("+t.join(",")+")")}else{if(t.color!==h&&(e.strokeStyle=t.color),t.opacity!==h&&e.strokeStyle){var a=f.color(e.strokeStyle);a[3]=t.opacity,e.strokeStyle="rgba("+a.join(",")+")"}t.width!==h&&(e.lineWidth=f.distance(t.width)),t.join!==h&&(e.lineJoin=t.join),t.cap!==h&&(e.lineCap=t.cap),t.miterLimit!==h&&(e.miterLimit=t.miterLimit),t.dash!==h&&(t.dash in f.dashes?e.lineDash=f.dashes[t.dash]:e.lineDash=t.dash),t.dashOffset!==h&&(e.lineDashOffset=f.distance(t.dashOffset))}},e.processShadow=function(t,e){if(t+""===t){var s=["shadowOffsetX","shadowOffsetY","shadowBlur"];t=t.replace(/\s*\,\s*/g,",").split(" ");for(var r=0;r<t.length;r++)isNaN(+t[r][0])?e.shadowColor=t[r]:e[s.shift()]=f.distance(t[r])}else t.x!==h&&(e.shadowOffsetX=f.distance(t.x)),t.y!==h&&(e.shadowOffsetY=f.distance(t.y)),t.blur!==h&&(e.shadowBlur=f.distance(t.blur||0)),t.color&&(e.shadowColor=t.color)},Object.assign(e.prototype,S.mixins.EventMixin,{eventHooks:{}}),e.browserCommonEvent={init:function(t){this.context&&this.context.eventHooks[t].init.call(this.context,t)},teardown:function(t){this.context&&this.context.eventHooks[t].teardown.call(this.context,t)}},Array.prototype.concat.call(x.mouse,x.touch,x.pointer,x.keyboard).forEach(function(t){e.prototype.eventHooks[t]=e.browserCommonEvent,e.prototype[t]=P.prototype[t]}),e.browserMouseOverOut=function(t){if(this.hoverElement!==t.targetObject){var e=this.hoverElement;this.hoverElement=t.targetObject,e&&e.fire&&e.fire("mouseout",t),t.targetObject&&t.targetObject.fire&&t.targetObject.fire("mouseover",t)}},e.prototype.eventHooks.mouseover=e.prototype.eventHooks.mouseout={init:function(t){this.context&&!this.context.listeners._specialMouseOverOutHook_&&(this.context.listeners._specialMouseOverOutHook_=e.browserMouseOverOut,this.context.on("mousemove",e.browserMouseOverOut))},teardown:function(t){this.context&&(this.context.listeners._specialMouseOverOutHook_=null,this.context.off("mousemove",e.browserMouseOverOut))}},Object.assign(e.prototype,S.mixins.AttrMixin,S.mixins.TransformableMixin,S.mixins.AnimatableMixin,{attrHooks:_.prototype=Object.assign({},S.mixins.TransformableMixin.attrHooks,{z:{get:function(){return this.context.elements.indexOf(this)},set:function(t){var e=this.context.elements;"top"===t&&(t=e.length),e.splice(this.context.elements.indexOf(this),1),e.splice(t,0,this),this.update()}},visible:{set:q},clip:{set:q},fill:{set:function(t){if(this.attrs.fillLink&&this.attrs.fillLink!==t){var e=this.attrs.fillLink.updateList.indexOf(this);-1!==e&&this.attrs.fillLink.updateList.splice(e,1)}t.toCanvasStyle?(t.updateList&&(this.attrs.fillLink=t).updateList.push(this),delete this.styles.fillStyle):this.styles.fillStyle=t,this.update()}},fillRule:{set:q},stroke:{set:function(t){var e={};if(null===t);else if(k(t)){for(var s,r,i=(t=t.replace(/\s*\,\s*/g,",").split(" ")).length,n=!1,a=!1;i--;)v.test(t[i])?s=parseFloat(t[i]):M(t[i])?e.lineWidth=f.distance(t[i]):"round"===t[i]?(n||(e.lineJoin="round"),a||(e.lineCap="round")):"miter"===t[i]||"bevel"===t[i]?(n=!0,e.lineJoin=t[i]):"butt"===t[i]||"square"===t[i]?(a=!0,e.lineCap=t[i]):"["===t[i][0]?e.strokeDash=t[i].substr(1,t[i].length-2).split(","):t[i]in f.dashes?e.strokeDash=f.dashes[t[i]]:t[i].lastIndexOf("ml")===t[i].length-2?e.miterLimit=+t[i].slice(0,t[i].length-2):t[i].indexOf("do")===t[i].length-2?e.strokeDashOffset=f.distance(t[i].slice(0,t[i].length-2)):r=t[i];r&&(s&&((r=f.color(r))[3]=s,r="rgba("+r.join(",")+")"),e.strokeStyle=r)}else{if(t.color!==h&&(e.strokeStyle=t.color),t.opacity!==h&&e.strokeStyle){var o=f.color(e.strokeStyle);o[3]=t.opacity,e.strokeStyle="rgba("+o.join(",")+")"}t.width!==h&&(e.lineWidth=f.distance(t.width)),t.join!==h&&(e.lineJoin=t.join),t.cap!==h&&(e.lineCap=t.cap),t.miterLimit!==h&&(e.miterLimit=t.miterLimit),t.dash!==h&&(t.dash in f.dashes?e.strokeDash=f.dashes[t.dash]:e.strokeDash=t.dash),t.dashOffset!==h&&(e.strokeDashOffset=f.distance(t.dashOffset))}["strokeStyle","lineWidth","lineJoin","lineCap","miterLimit"].forEach(function(t){e[t]?this.styles[t]=e[t]:delete this.styles[t]},this),e.strokeDash?this.attrs.strokeDash=e.strokeDash:delete this.attrs.strokeDash,e.strokeDashOffset?this.attrs.strokeDashOffset=e.strokeDashOffset:delete this.attrs.strokeDashOffset}},shadow:{set:function(t){var e={};if(null===t);else if(k(t)){var s=["shadowOffsetX","shadowOffsetY","shadowBlur"];t=t.replace(/\s*\,\s*/g,",").split(" ");for(var r=0;r<t.length;r++)isNaN(+t[r][0])?e.shadowColor=t[r]:e[s.shift()]=f.distance(t[r])}else t.x!==h&&(e.shadowOffsetX=f.distance(t.x)),t.y!==h&&(e.shadowOffsetY=f.distance(t.y)),t.blur!==h&&(e.shadowBlur=f.distance(t.blur)),t.color&&(e.shadowColor=t.color);["shadowOffsetX","shadowOffsetY","shadowColor","shadowBlur"].forEach(function(t){e[t]?this.styles[t]=e[t]:delete this.styles[t]},this)}},opacity:{get:function(){return this.attrs.opacity===h?1:this.attrs.opacity},set:function(t){this.styles.globalAlpha=+t,this.update()}},composite:{set:function(t){this.styles.globalCompositeOperation=t,this.update()}},filter:{set:function(t){Array.isArray(t)&&(t=t.map(function(t){if(k(t))return t;O(t)&&(t=[t]);var e=(L||((L=d.createElement("svg")).setAttribute("xmlns",D),L.setAttribute("version","1.1"),L.defs=d.createElementNS(D,"defs"),L.appendChild(L.defs),d.body.appendChild(L)),L).defs,s=Date.now()+"_"+String(Math.random()).substr(2),r=d.createElementNS(D,"filter");return r.setAttribute("id",s),t.forEach(function(e){var s=d.createElementNS(D,e.effect);Object.keys(e).forEach(function(t){"effect"!==t&&s.setAttribute(t,e[t])}),r.appendChild(s)}),e.appendChild(r),"url(#"+s+")"}).join(" ")),this.styles.filter=t,this.update()}}})}),f.Drawable=e,i=new S(e,{argsOrder:["x","y","width","height","fill","stroke"],attrHooks:new _({x:{set:q},y:{set:q},width:{set:q},height:{set:q},x1:{get:function(){return this.attrs.x},set:function(t){this.attrs.width+=this.attrs.x-t,this.attrs.x=t,this.update(),delete this.attrs.x1}},y1:{get:function(){return this.attrs.y},set:function(t){this.attrs.height+=this.attrs.y-t,this.attrs.y=t,this.update(),delete this.attrs.y1}},x2:{get:function(){return this.attrs.x+this.attrs.width},set:function(t){this.attrs.width=t-this.attrs.x,this.update(),delete this.attrs.x2}},y2:{get:function(){return this.attrs.y+this.attrs.height},set:function(t){this.attrs.height=t-this.attrs.y,this.update(),delete this.attrs.y2}}}),isPointIn:function(t,e,s){var r=this.isPointInBefore(t,e,s);return t=r[0],e=r[1],t>this.attrs.x&&e>this.attrs.y&&t<this.attrs.x+this.attrs.width&&e<this.attrs.y+this.attrs.height},preciseBounds:function(){return new C(this.attrs.x,this.attrs.y,this.attrs.width,this.attrs.height)},draw:function(t){this.attrs.visible&&(this.preDraw(t),this.attrs.fill&&t.fillRect(this.attrs.x,this.attrs.y,this.attrs.width,this.attrs.height),this.attrs.stroke&&t.strokeRect(this.attrs.x,this.attrs.y,this.attrs.width,this.attrs.height),t.restore())},processPath:function(t){t.beginPath(),t.rect(this.attrs.x,this.attrs.y,this.attrs.width,this.attrs.height)}}),["x","y","width","height","x1","x2","y1","y2"].forEach(function(t,e){var s=3<e?a.tick.numAttr:a.tick.num;i.prototype.attrHooks[t].preAnim=s.preAnim,i.prototype.attrHooks[t].anim=s.anim}),f.rect=function(){return new i(arguments)},f.Rect=i,(t=new S(e,{argsOrder:["cx","cy","radius","fill","stroke"],attrHooks:new _({cx:{set:q},cy:{set:q},radius:{set:q}}),isPointIn:function(t,e,s){var r=this.isPointInBefore(t,e,s);t=r[0],e=r[1];var i=s.stroke?(this.styles.lineWidth||0)/2:0;return Math.pow(t-this.attrs.cx,2)+Math.pow(e-this.attrs.cy,2)<=Math.pow(this.attrs.radius+i,2)},preciseBounds:function(){return new C(this.attrs.cx-this.attrs.radius,this.attrs.cy-this.attrs.radius,2*this.attrs.radius,2*this.attrs.radius)},draw:function(t){this.attrs.visible&&(this.preDraw(t),t.beginPath(),t.arc(this.attrs.cx,this.attrs.cy,Math.abs(this.attrs.radius),0,2*Math.PI,!0),this.postDraw(t))},processPath:function(t){t.beginPath(),t.arc(this.attrs.cx,this.attrs.cy,Math.abs(this.attrs.radius),0,2*Math.PI,!0)}})).prototype.roughBounds=t.prototype.preciseBounds,t.args=["cx","cy","radius","fill","stroke"],f.circle=function(){return new t(arguments)},f.Circle=t,(n=new S({initialize:function(t,e,s){this.method=t,this.path=s,this.attrs={},this.attrs.args=e,n.canvasFunctions[t]&&(this.attrHooks=n.canvasFunctions[t].attrHooks)},attrHooks:B.prototype={args:{set:function(){this.update()}}},attr:S.attr,clone:function(){var t=f.curve(this.method,this.attrs.args);return Object.assign(t.attrs,this.attrs),t},startAt:function(){var t=this.path.attrs.curves.indexOf(this);return 0===t?[0,0]:this.path.attrs.curves[t-1].endAt()},endAt:function(){return n.canvasFunctions[this.method].endAt?n.canvasFunctions[this.method].endAt(this.attrs.args):null},update:function(){return this.path&&this.path.update(),this},bounds:function(t){return n.canvasFunctions[this.method].bounds?(t||(t=this.startAt()),n.canvasFunctions[this.method].bounds(t,this.attrs.args)):null},process:function(t){t[this.method].apply(t,this.attrs.args)}})).AttrHooks=B,n.canvasFunctions={moveTo:{attrHooks:z(["x","y"]),endAt:function(t){return t.slice()}},lineTo:{attrHooks:z(["x","y"]),bounds:function(t,e){return[t[0],t[1],e[0],e[1]]},endAt:function(t){return t.slice()}},quadraticCurveTo:{attrHooks:z(["hx","hy","x","y"]),bounds:function(t,e){return[Math.min(t[0],e[0],e[2]),Math.min(t[1],e[1],e[3]),Math.max(t[0],e[0],e[2]),Math.max(t[1],e[1],e[3])]},endAt:function(t){return t.slice(2)}},bezierCurveTo:{attrHooks:z(["h1x","h1y","h2x","h2y","x","y"]),bounds:function(t,e){return[Math.min(t[0],e[0],e[2],e[4]),Math.min(t[1],e[1],e[3],e[5]),Math.max(t[0],e[0],e[2],e[4]),Math.max(t[1],e[1],e[3],e[5])]},endAt:function(t){return t.slice(4)}},arc:{attrHooks:z(["x","y","radius","start","end","clockwise"]),bounds:function(t,e){var s=e[0],r=e[1],i=e[2];e[3],e[4],e[5];return[s-i,r-i,s+i,r+i]},endAt:function(t){var e=t[0],s=t[1],r=t[2],i=t[4]-t[3];return t[5]&&(i=-i),[e+Math.cos(i)*r,s+Math.sin(i)*r]}},arcTo:{attrHooks:z(["x1","y1","x2","y2","radius","clockwise"])}},n.fromArray=function(t,e){return!0===t?closePath:t[0]in f.curves?f.curve(t[0],t.slice(1),e):new n({2:"lineTo",4:"quadraticCurveTo",6:"bezierCurveTo"}[t.length],t,e)},f.curves={moveTo:n,lineTo:n,quadraticCurveTo:n,bezierCurveTo:n,arc:n,arcTo:n,closePath:n},f.Curve=n,f.curve=function(t,e,s){return new f.curves[t](t,e,s)},(o=new S(e,{initialize:function(t){t[0].constructor!==Object&&t[1].constructor!==Number&&(t[3]=t[1],t[4]=t[2],t[1]=t[2]=h),this.super("initialize",[t])},argsOrder:["d","x","y","fill","stroke"],attrHooks:new _({d:{set:function(t){this.attrs.curves=o.parse(t,this),this.update()}},x:{set:q},y:{set:q}}),curve:function(t,e){return e===h?this.attrs.curves[t]:(isNaN(e[0])||(e=[e]),Array.prototype.splice.apply(this.attrs.d,[t,1].concat(e)),Array.prototype.splice.apply(this.attrs.curves,[t,1].concat(o.parse(e,this,0!==t))),this.update())},before:function(t,e,s){return 0===t&&s&&(this.attrs.curves[0].method="lineTo"),isNaN(e[0])||(e=[e]),Array.prototype.splice.apply(this.attrs.d,[t,0].concat(e)),Array.prototype.splice.apply(this.attrs.curves,[t,0].concat(o.parse(e,this,0!==t))),this.update()},after:function(t,e){return this.before(t+1,e)},remove:function(t){return t===h?this.super("remove"):(this.attrs.curves[t].path=null,this.attrs.curves.splice(t,1),this.attrs.d.splice(t,1),this.update())},push:function(t,e){return e?(this.attrs.d.push([t].concat(e)),this.attrs.curves.push(f.curve(t,e,this))):(this.attrs.d=this.attrs.d.concat(t),this.attrs.curves=this.attrs.curves.concat(o.parse(t,this,0!==this.attrs.d.length))),this.update()},each:function(){return Array.prototype.forEach.apply(this.attrs.curves,arguments),this},map:function(){return Array.prototype.map.apply(this.attrs.d,arguments)},moveTo:function(t,e){return this.push("moveTo",[t,e])},lineTo:function(t,e){return this.push("lineTo",[t,e])},quadraticCurveTo:function(t,e,s,r){return this.push("quadraticCurveTo",[t,e,s,r])},bezierCurveTo:function(t,e,s,r,i,n){return this.push("bezierCurveTo",[t,e,s,r,i,n])},arcTo:function(t,e,s,r,i,n){return this.push("arcTo",[t,e,s,r,i,!!n])},arc:function(t,e,s,r,i,n){return this.push("arc",[t,e,s,r,i,!!n])},closePath:function(){return this.push("closePath",[])},isPointIn:function(t,e,s){var r=this.isPointInBefore(t,e,s);t=r[0],e=r[1];var i=this.context.context;i.save(),(this.attrs.x||this.attrs.y)&&i.translate(this.attrs.x||0,this.attrs.y||0),this.process(i);var n=i.isPointInPath(t,e);return i.restore(),n},roughBounds:function(t,e){for(var s,r=1/0,i=1/0,n=-1/0,a=-1/0,o=[0,0],h=0;h<this.attrs.curves.length;h++)s=this.attrs.curves[h].bounds(o),o=this.attrs.curves[h].endAt()||o,s&&(r=Math.min(r,s[0],s[2]),n=Math.max(n,s[0],s[2]),i=Math.min(i,s[1],s[3]),a=Math.max(a,s[1],s[3]));return new C(r+(this.attrs.x||0),i+(this.attrs.y||0),n-r,a-i)},process:function(e){e.beginPath(),this.attrs.curves.forEach(function(t){t.process(e)})},draw:function(t){this.attrs.visible&&(this.preDraw(t),(this.attrs.x||this.attrs.y)&&t.translate(this.attrs.x||0,this.attrs.y||0),this.process(t),this.postDraw(t))}})).args=["d","x","y","fill","stroke"],o.parse=function(t,e,s){if(!t)return[];if(t.constructor===String)return o.parseString(t,e,s);if(t instanceof n)return t.path=e,[t];t[0]===h||+t[0]!==t[0]&&t[0]+""!==t[0]||(t=[t]);var r=[];if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]instanceof n?(r.push(t[i]),t[i].path=e):0!==i||s?r.push(n.fromArray(t[i],e)):r.push(new n("moveTo",isNaN(t[i][0])?t[i].slice(1):t[i],e));return r},o.parseString=function(t,e,s){throw"String path data is not supported"},f.path=function(){return new o(arguments)},f.Path=o,(c=new S(e,{argsOrder:["image","x","y","width","height","crop"],attrHooks:new _({image:{set:function(t){return(t=this.attrs.image=c.parse(t)).complete&&this.update(),t.addEventListener("load",c.onImageLoadedCallback.bind(this)),t.addEventListener("error",c.onImageErrorCallback.bind(this)),t}},x:{set:q},y:{set:q},width:{set:q},height:{set:q},x1:i.prototype.attrHooks.x1,y1:i.prototype.attrHooks.y1,x2:i.prototype.attrHooks.x2,y2:i.prototype.attrHooks.y2,crop:{set:q},smooth:{get:function(){return this.attrs.smooth||!0},set:function(t){this.styles.imageSmoothingEnabled=!!t,this.update()}}}),remove:function(){this.super("remove"),this.attrs.image.blob&&y.revokeObjectURL(this.attrs.image.blob)},getRealSize:function(){var t=this.attrs.width===h?"auto":this.attrs.width,e=this.attrs.height===h?"auto":this.attrs.height;return"auto"===t&&"auto"===e&&(t=e="native"),"auto"===t?t=this.attrs.image.width*(e/this.attrs.image.height):"native"===t&&(t=this.attrs.image.width),"auto"===e?e=this.attrs.image.height*(t/this.attrs.image.width):"native"===e&&(e=this.attrs.image.height),[t,e]},preciseBounds:function(){var t=this.getRealSize();return new C(this.attrs.x,this.attrs.y,t[0],t[1])},isPointIn:function(t,e){var s=this.isPointInBefore(t,e,options);t=s[0],e=s[1];var r=this.getRealSize();return t>this.attrs.x&&e>this.attrs.y&&t<this.attrs.x+r[0]&&e<this.attrs.y+r[1]},draw:function(t){if(this.attrs.visible){this.preDraw(t);var e=this.getRealSize(),s=this.attrs.crop;s?t.drawImage(this.attrs.image,s[0],s[1],s[2],s[3],this.attrs.x,this.attrs.y,e[0],e[1]):t.drawImage(this.attrs.image,this.attrs.x,this.attrs.y,e[0],e[1]),t.restore()}}})).args=["image","x","y","width","height","crop"],c.parse=function(t){if(k(t)){if("#"===t[0])return d.getElementById(t.substr(1));if("<svg"!==t[0]){var e=new Image;return e.src=t,e}var s=new Blob([t],{type:"image/svg+xml;charset=utf-8"});(t=new Image).src=y.createObjectURL(s),t.blob=s}return t},c.onImageLoadedCallback=function(t){this.update(),this.fire("load",t)},c.onImageErrorCallback=function(t){this.fire("error",t)},f.image=function(){return new c(arguments)},f.Image=c,(u=new S(e,{initialize:function(t){this.super("initialize",arguments),this.attrs.baseline||(this.styles.textBaseline=this.attrs.baseline=u.baseline)},argsOrder:["text","x","y","font","fill","stroke"],attrHooks:new _({text:{set:function(t){return this.lines=null,this.update(),t+""}},x:{set:q},y:{set:q},font:{set:function(t){this.attrs.parsedFont=u.parseFont(t),this.styles.font=u.genFont(this.attrs.parsedFont),this.update()}},align:{get:function(){return this.styles.textAlign||"left"},set:function(t){this.styles.textAlign=t,this.update()}},baseline:{get:function(){return this.styles.textBaseline},set:function(t){this.styles.textBaseline=t,this.update()}},mode:{get:function(){return this.attrs.mode||"string"},set:q},maxStringWidth:{get:function(){return this.attrs.maxStringWidth||1/0},set:q},trimLines:{get:function(){return!1!==this.attrs.trimLines},set:function(){this.lines=null,this.update()}},lineHeight:{get:function(){return this.attrs.lineHeight||"auto"},set:function(){this.lines=null,this.update()}},blockWidth:{get:function(){return this.attrs.blockWidth||1/0},set:function(){this.lines=null,this.update()}}}),lines:null,processLines:function(n){var t=this.attrs.text,a=this.lines=[],o="auto"!==(this.attrs.lineHeight||"auto")?this.attrs.lineHeight:this.attrs.parsedFont.size,h=this.attrs.blockWidth||1/0;"center"===this.styles.textAlign||this.styles.textAlign;return n.save(),n.font=this.styles.font,t.split("\n").forEach(function(t){if(n.measureText(t).width<=h)a.push({text:t,y:o*a.length});else{for(var e,s=f.strParse.partition(t,u.wordSeparators),r="",i=0;i<s.length;i++)e=r+s[i],r=n.measureText(e).width<=h?e:(a.push({text:r,y:o*a.length}),s[i]);a.push({text:r,y:o*a.length})}}),!1!==this.attrs.trimLines&&a.forEach(function(t){t.text=t.text.trim()}),n.restore(),this},draw:function(e){if(this.attrs.visible){if(this.preDraw(e),"block"===this.attrs.mode){this.lines||this.processLines(e);var s=this.attrs.x,r=this.attrs.y;this.attrs.fill&&!this.attrs.stroke?this.lines.forEach(function(t){e.fillText(t.text,s,r+t.y)}):this.attrs.fill?this.lines.forEach(function(t){e.fillText(t.text,s,r+t.y),e.strokeText(t.text,s,r+t.y)}):this.lines.forEach(function(t){e.strokeText(t.text,s,r+t.y)})}else{var t=this.attrs.maxStringWidth<1/0?this.attrs.maxStringWidth:h;this.styles.fillStyle&&e.fillText(this.attrs.text,this.attrs.x,this.attrs.y,t),this.styles.strokeStyle&&e.strokeText(this.attrs.text,this.attrs.x,this.attrs.y,t)}e.restore()}},isPointIn:function(t,e,s){var r=this.isPointInBefore(t,e,s);t=r[0],e=r[1];var i=this.bounds(!1);return t>i.x1&&e>i.y1&&t<i.x2&&e<i.y2},measure:function(){var t,s=this.context?this.context.context:I(0,0).getContext("2d");return s.save(),s.font=this.styles.font,t="block"===this.attrs.mode?(this.lines||this.processLines(s),this.lines.reduce(function(t,e){return e=s.measureText(e.text).width,Math.max(e,t)},0)):s.measureText(this.attrs.text).width,s.restore(),t},preciseBounds:function(t){var e,s=this.attrs.x,r=this.attrs.y,i="auto"===(this.attrs.lineHeight||"auto")?this.attrs.parsedFont.size:this.attrs.lineHeight;"block"===this.attrs.mode?(e=this.attrs.blockWidth,"inline"!==t.blockWidth&&isFinite(e)||(e=this.measure()),this.lines||this.processLines(this.context?this.context.context:I(0,0).getContext("2d")),i*=this.lines.length):(e=this.measure(),this.attrs.maxStringWidth<e&&(e=this.attrs.maxStringWidth));var n=this.styles.textBaseline,a=this.styles.textAlign;return"middle"===n?r-=this.attrs.parsedFont.size/2:"bottom"===n||"ideographic"===n?r-=this.attrs.parsedFont.size:"alphabetic"===n&&(r-=.8*this.attrs.parsedFont.size),"center"===a?s-=e/2:"right"===a&&(s-=e),new C(s,r,e,i)}})).baseline="top",u.font="10px sans-serif",u.args=["text","x","y","font","fill","stroke"],u.parseFont=function(t){if(t+""!==t)return t;var e={family:""};return t.split(" ").forEach(function(t){"bold"===t?e.bold=!0:"italic"===t?e.italic=!0:b.test(t)?e.size=f.distance(t):e.family+=" "+t}),e.family=e.family.trim(),e},u.genFont=function(t){var e="";return t.italic&&(e+="italic "),t.bold&&(e+="bold "),e+(t.size||10)+"px "+(t.family||"sans-serif")},u.wordSeparators=[" ","-"],f.text=function(){return new u(arguments)},f.Text=u,l.AttrHooks=function(t){Object.assign(this,t)},Object.assign(l.prototype,S.mixins.AttrMixin,{argsOrder:["type","colors","from","to"],cached:null,attrHooks:l.AttrHooks.prototype={colors:{set:function(t){this.cached=null,this.attrs.colors=l.parseColors(t),this.update()}}},update:function(){return this},updateFunction:function(){return this.updateList.forEach(function(t){t.update()}),this},clone:function(){return new l(this.attrs)},color:function(t,e){for(var s=0,r=this.attrs.colors=this.attrs.colors.sort(function(t,e){return t[0]>e[0]?1:-1});r[s][0]<t&&++s<r.length;);if(e!==h&&e.constructor!==Boolean)return this.cached=null,r[s]&&r[s][0]===t?r[s][1]=e:r.push([t,e]),this.update();if(r[s]&&r[s][0]===t)return f.color(r[s][1]);if(!1===e)return null;if(t<r[0][0])return f.color(r[0][1]);if(t>r[r.length-1][0])return f.color(r[r.length-1][1]);var i=f.color(r[s-1][1]),n=f.color(r[s][1]);return t=(t-r[s-1][0])/(r[s][0]-r[s-1][0]),[i[0]+(n[0]-i[0])*t+.5|0,i[1]+(n[1]-i[1])*t+.5|0,i[2]+(n[2]-i[2])*t+.5|0,+(i[3]+(n[3]-i[3])*t).toFixed(2)]}}),l.types={default:"linear",linear:{attrHooks:new l.AttrHooks({from:{set:q},to:{set:q}}),toCanvasStyle:function(t,e){var s=k(this.attrs.from)?e.corner(this.attrs.from,this.attrs.boundsOptions):this.attrs.from,r=k(this.attrs.to)?e.corner(this.attrs.to,this.attrs.boundsOptions):this.attrs.to,i=this.attrs.colors,n=s+" "+r;if(this.cached&&this.cached.key===n)return this.cached.grad;var a=t.createLinearGradient(s[0],s[1],r[0],r[1]);return i.forEach(function(t){a.addColorStop(t[0],t[1])}),this.cached={grad:a,key:n},a}},radial:{attrHooks:new l.AttrHooks({from:{set:function(t){A(t)&&2<t.length&&(this.attrs.startRadius=t[2],this.attrs.from=t.slice(0,2)),this.update()}},to:{set:function(t){A(t)&&2<t.length&&(this.attrs.radius=t[2],this.attrs.to=t.slice(0,2)),this.update()}},radius:{get:function(){return this.attrs.radius===h?"auto":this.attrs.radius},set:q},startRadius:{get:function(){return this.attrs.startRadius||0},set:q}}),toCanvasStyle:function(t,e){var s=this.attrs.boundsOptions instanceof C?this.attrs.boundsOptions:e.bounds(this.attrs.boundsOptions),r=k(this.attrs.from)?e.corner(this.attrs.from,s):this.attrs.from,i=k(this.attrs.to)?e.corner(this.attrs.to,s):this.attrs.to,n=this.attrs.startRadius||0,a=isNaN(this.attrs.radius)?Math.max(s.width,s.height):this.attrs.radius,o=this.attrs.colors,h=r+" "+i+" "+n+" "+a;if(this.cached&&this.cached.key===h)return this.cached.grad;var c=t.createRadialGradient(r[0],r[1],n,i[0],i[1],a);return o.forEach(function(t){c.addColorStop(t[0],t[1])}),this.cached={grad:c,key:h},c}}},l.parseColors=function(e){if(A(e[0]))return e.map(function(t){return t.slice()});var s=[];if(A(e)){var r=1/(e.length-1);e.forEach(function(t,e){s.push([r*e,t])})}else Object.keys(e).forEach(function(t){s.push([+t,e[t]])});return s},f.Gradient=l,s=new S({initialize:function(t,e,s){this.image=c.parse(t),this.repeat=e,this.context=s,this.image.addEventListener("load",function(t){this.update(),this.image.blob&&y.revokeObjectURL(blob)}.bind(this))},update:function(){return this.context.update(),this},toCanvasStyle:function(t){return this.image.complete?t.createPattern(this.image,this.repeat||"repeat"):"transparent"}}),f.Pattern=s,(R=new S(P,{initialize:function(t){if(this.gl=this._getAndPrepareGLContext(t),!this.gl)return new f.contexts["2d"](t);this.shaders={},this.buffers={},this.canvas=t,this.elements=[],this.elementsByProgram={},this.listeners={},this.attrs={transform:"attributes",pivot:"center",glBackgroundColor:[255,255,255,1],glDrawOrder:["program-rect"]},this.glMissing=[],this.drawMissing=this.drawMissing.bind(this),this.updateNow=this.updateNow.bind(this)},_getAndPrepareGLContext:function(t){var e;if(e=t.getContext("webgl"));else if(e=t.getContext("experimental-webgl"));else if(e=t.getContext("webkit-3d"));else if(!(e=t.getContext("moz-webgl")))return null;return e.viewport(0,0,t.width,t.height),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT),e},push:function(t){return(t.context=this).elements.push(t),(this.elementsByProgram[t.glProgramName]||(this.elementsByProgram[t.glProgramName]=[])).push(t),t.shadersRequired&&t.shadersRequired.forEach(function(t){this.initShader(t)}.bind(this)),t.drawGL&&(this.glMissing.push(t),this._willDrawMissing||(w(this.drawMissing),this._willDrawMissing=!0)),t},initShader:function(t){if(!this.shaders[t]){if(!R.shadersFactory[t])throw'The shader "'+t+'" is not exist.';this.shaders[t]=R.shadersFactory[t](this.gl,this)}},drawMissing:function(){this._willDrawMissing=!1;var e=this.gl;this.glMissing.forEach(function(t){t.drawGL(e)})},updateNow:function(){var r=this.gl;r.clear(r.COLOR_BUFFER_BIT),this.attrs.glDrawOrder.forEach(function(t){for(var e=this.elementsByProgram[t],s=e.length;s--;){this.elements.indexOf(e[s]),this.elements.length;e[s]._glZIndex=1,e[s].drawGL(r)}},this)}})).shadersFactory={"fragment-common":function(t){return f.createShader(t,t.FRAGMENT_SHADER,["#ifdef GL_ES","precision highp float;","#endif","varying vec4 vColor;","void main(void){","gl_FragColor = vec4(vColor[0] / 255.0, vColor[1] / 255.0, vColor[2] / 255.0, vColor[3]);","}"].join("\n"))}},f.createShader=function(t,e,s){var r=t.createShader(e);if(t.shaderSource(r,s),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))return r;var i=t.getShaderInfoLog(r);throw t.deleteShader(r),"Shader compilation error: "+i},f.contexts.gl=R,Object.assign(R.shadersFactory,{"vertex-path":function(t){return f.createShader(t,t.VERTEX_SHADER,["attribute vec2 aVertexPosition;","uniform vec4 rectCoords;","uniform vec4 uColor;","varying vec4 vColor;","float canvasWidth = "+t.canvas.width+".0;","float canvasHeight = "+t.canvas.height+".0;","void main(void){","vColor = uColor;","gl_Position = vec4(","aVertexPosition[0],","aVertexPosition[1],","1.0,","1.0",");","}"].join("\n"))},"program-path":function(t,e){var s=t.createProgram();if(t.attachShader(s,e.shaders["vertex-path"]),t.attachShader(s,e.shaders["fragment-common"]),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw"Could not initialize shaders";return t.useProgram(s),s.uColor=t.getUniformLocation(s,"uColor"),s.rectCoords=t.getUniformLocation(s,"rectCoords"),s.v_aVertexPosition=t.getAttribLocation(s,"aVertexPosition"),t.enableVertexAttribArray(s.v_aVertexPosition),s}}),Object.assign(o.prototype,{shadersRequired:["fragment-common","vertex-path","program-path"],drawGL:function(t){var e=this.context;if(!e.buffers.rect){var s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,.5,.5,.5,0,.5,-.5,-1,0]),t.STATIC_DRAW),e.buffers.rect=s}var r=f.color(this.styles.fillStyle);t.uniform4f(e.shaders["program-rect"].uColor,r[0],r[1],r[2],r[3]),t.uniform4f(e.shaders["program-rect"].rectCoords,10,10,200,200),t.vertexAttribPointer(e.shaders["program-rect"].v_aVertexPosition,2,t.FLOAT,!1,0,0),t.drawArrays(t.TRIANGLE_FAN,0,5)}}),Object.assign(R.shadersFactory,{"vertex-rect":function(t){return f.createShader(t,t.VERTEX_SHADER,["attribute vec2 aVertexPosition;","uniform float zIndex;","uniform vec4 rectCoords;","uniform vec4 uColor;","varying vec4 vColor;","float canvasWidth = "+t.canvas.width+".0;","float canvasHeight = "+t.canvas.height+".0;","void main(void){","vColor = uColor;","gl_Position = vec4(","(aVertexPosition[0] * rectCoords[2] / canvasWidth) - 1.0 + rectCoords[2] / canvasWidth + (rectCoords[0] * 2.0 / canvasWidth),","(aVertexPosition[1] * rectCoords[3] / canvasHeight) + 1.0 - rectCoords[3] / canvasHeight - (rectCoords[1] * 2.0 / canvasHeight),","zIndex,","1.0",");","}"].join("\n"))},"program-rect":function(t,e){var s=t.createProgram();if(t.attachShader(s,e.shaders["vertex-rect"]),t.attachShader(s,e.shaders["fragment-common"]),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw"Could not initialize shaders";return t.useProgram(s),s.uColor=t.getUniformLocation(s,"uColor"),s.rectCoords=t.getUniformLocation(s,"rectCoords"),s.zIndex=t.getUniformLocation(s,"zIndex"),s.v_aVertexPosition=t.getAttribLocation(s,"aVertexPosition"),t.enableVertexAttribArray(s.v_aVertexPosition),s}}),Object.assign(i.prototype,{shadersRequired:["fragment-common","vertex-rect","program-rect"],glProgramName:"program-rect",glCreateBuffer:function(t){var e=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,1,1,-1,-1,-1,1,1,-1,1]),t.STATIC_DRAW),this.context.buffers.rect=e},drawGL:function(t){var e=this.context;e.buffers.rect||this.glCreateBuffer(t);var s=f.color(this.styles.fillStyle);t.uniform4f(e.shaders["program-rect"].uColor,s[0],s[1],s[2],s[3]),t.uniform4f(e.shaders["program-rect"].rectCoords,this.attrs.x,this.attrs.y,this.attrs.width,this.attrs.height),this._glZIndex!==h&&t.uniform1f(e.shaders["program-rect"].zIndex,this._glZIndex),t.vertexAttribPointer(e.shaders["program-rect"].v_aVertexPosition,2,t.FLOAT,!1,0,0),t.drawArrays(t.TRIANGLES,0,6)}}),f.version="1.9.0",f.query=function(t,e,s,r){return t+""===t&&(t=(r||d).querySelectorAll(t)[s||0]),new f.contexts[e||"2d"](t.canvas||t)},f.id=function(t,e){return new f.contexts[e||"2d"](d.getElementById(t))},"object"==typeof module&&"object"==typeof module.exports?module.exports=f:"function"==typeof define&&define.amd?define("Delta",[],function(){return f}):r&&(r.Delta=f)}("undefined"!=typeof window?window:this);